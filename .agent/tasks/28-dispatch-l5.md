# Dispatch (智能调度) 模块 L5 升级任务

## 任务目标
将 `dispatch` 模块从 **L3 (6.0)** 提升至 **L5**。该模块目前的测试覆盖率极高（113%），没有产生严重的类型错误，但在**安全合规**和**可运维性**上近乎空白。

## 当前短板与改进方向

### 1. D6: 安全规范 (当前: 4分) 🔴
- **现状**：纯算法模块可能为了方便，省略了验证输入以及租户隔离，导致 0 `Zod` 覆盖和 0 `tenantId` 约束。
- **任务**：
  - 对调度核心算法的所有暴露在外的输入端（尤其是涉及到用户交互、调度的 Server Actions）补充强制的 `Zod` 参数校验。
  - 请确保涉及数据库侧调配数据的读取与写入必须绑定且严格校验 `tenantId`。

### 2. D7: 可运维性 (当前: 4分) 🔴
- **现状**：此模块包含 244 行核心算法代码，但却没有任何 `logger.info`、`logger.error`，也没有包裹在 `try-catch` 中捕捉异常。
- **任务**：
  - 在核心智能调度的节点、调度成功或失败的回调上，必须添加清晰的 `logger` 追踪。
  - 对于业务层的意外错误，请包裹异常，防止算法崩溃导致进程宕机。

### 3. D5: UI/UX 成熟度 (当前: 4分) 🟡
- **现状**：它是纯算法模块，缺乏相应的视图呈现或者暴露出来的设置组件。
- **任务**：
  - 若在项目全局有其入口视图，确保呈现逻辑包含 Loading 状态（如果不需要则跳过，保持当前的高效架构也可）。

## 执行要求
1. **语言**：所有代码注释、日志信息、UI文案必须全中文。
2. **测试维护**：必须确保修改后原有的 **32个测试用例全数通过**，因为它是智能调度的底线。
3. **类型安全**：消除 `any` 类型并增加 JSDoc 中文注释，保证 0 TSError。
