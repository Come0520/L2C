# Miniprogram-Backend (小程序后端) 模块 L5 升级任务

## 任务目标
将 `miniprogram-backend` 模块从 **L4 (6.3)** 提升至 **L5**。该模块拥有 27 条 API 路由覆盖 18 个业务域，代码质量极佳（0 any），安全规范扎实（117 Zod, 185 tenantId）。主要短板集中在**测试覆盖率**和**性能缓存策略**上。

## 当前短板与改进方向

### 1. D3: 测试覆盖 (当前: 6分) 🔴
- **现状**：5 个测试文件（auth/business/e2e/invite/security），38 个用例，覆盖率仅 29.3%。
- **任务**：
  - 为尚未覆盖的高频 API 路由补写单元测试，目标覆盖率提升至 **≥45%**。
  - 重点覆盖：订单相关 API、商品查询 API、用户信息更新 API 等核心业务路由。

### 2. D8: 性能优化 (当前: 5分) 🔴
- **现状**：整个模块 **0 缓存引用**。
- **任务**：
  - 为只读型高频查询 API 添加 `unstable_cache` 或类似的短期缓存机制。
  - 缓存 Tag 命名规范：`miniprogram:{业务域}:{tenantId}`。

### 3. D4: 文档完整性 (当前: 6分) 🟡
- **任务**：对每条 API 路由的入口处理函数补充**中文 JSDoc**。

## 执行要求
1. **语言**：所有代码注释、日志信息必须全中文。
2. **测试命令**：`pnpm test src/features/miniprogram-backend`。
3. **类型安全**：保持 0 `any`，保持 0 TSError。
