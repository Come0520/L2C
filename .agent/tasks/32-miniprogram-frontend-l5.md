# Miniprogram-Frontend (小程序前端) 模块 L5 升级任务

## 任务目标
将 `miniprogram-frontend` 模块从 **L2 (4.1)** 提升至 **L5**。

> ⚠️ **这是全项目成熟度最低的模块**，存在 167 个 `any` 和仅 2.2% 的测试覆盖率。

## 当前短板与改进方向

### 1. D2: 代码质量 (当前: 3分) 🔴🔴 P0
- **现状**：**167 个 `any`**。
- **任务**：将 `any` 降至 **≤20**。使用 `unknown` + 类型守卫替代 `any`。

### 2. D3: 测试覆盖 (当前: 2分) 🔴🔴 P0
- **现状**：6 个测试文件，23 个用例，覆盖率仅 **2.2%**。
- **任务**：覆盖率提升至 **≥15%**。优先覆盖工具函数和 API 封装层。

### 3. D4: 文档完整性 (当前: 3分) 🔴
- **任务**：为所有公共工具函数和共享组件添加**中文 JSDoc**。创建 `README.md`。

### 4. D7: 可运维性 (当前: 3分) 🔴
- **任务**：添加全局错误捕获（`App.onError`），关键业务链路添加日志埋点。

### 5. D6: 安全规范 (当前: 4分) 🟡
- **任务**：表单提交添加前端输入验证。敏感数据使用微信存储 API 并设置过期时间。

## 执行要求
1. **语言**：全中文。
2. **分阶段执行**：Phase 1: Any治理 → Phase 2: 测试补写 → Phase 3: 文档运维 → Phase 4: 安全性能。
3. **测试命令**：`pnpm test src/features/miniprogram-frontend`。
