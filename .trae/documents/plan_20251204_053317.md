# Quality Assurance Implementation Plan

## 1. Unit Tests for UI Utility Functions

### Test Files to Create
1. **`src/utils/__tests__/date.test.ts`**
   - Test `formatDateTime` function with various formats and edge cases
   - Test `formatRelativeTime` function for different time intervals

2. **`src/utils/__tests__/lib-utils.test.ts`**
   - Test `formatDate` function
   - Test `formatDateTime` function
   - Test `formatCurrency` function with different amounts
   - Test `truncate` function with various string lengths

### Test Cases

#### Date Utility Tests
- ✅ `formatDateTime` with default format
- ✅ `formatDateTime` with custom formats (YYYY-MM-DD, HH:mm:ss, etc.)
- ✅ `formatDateTime` with invalid date input
- ✅ `formatRelativeTime` for recent times (just now, minutes ago)
- ✅ `formatRelativeTime` for past times (hours ago, days ago, months ago, years ago)
- ✅ `formatRelativeTime` for future times

#### Lib Utils Tests
- ✅ `formatDate` with valid date inputs
- ✅ `formatDateTime` with valid date inputs
- ✅ `formatCurrency` with positive amounts
- ✅ `formatCurrency` with negative amounts
- ✅ `formatCurrency` with zero amount
- ✅ `formatCurrency` with decimal amounts
- ✅ `truncate` with strings shorter than max length
- ✅ `truncate` with strings equal to max length
- ✅ `truncate` with strings longer than max length

## 2. Manual Verification of Quote to Order Flow

### Steps to Verify
1. **Create a Quote**
   - Navigate to the quotes section
   - Create a new quote with customer information and items
   - Verify quote is saved successfully

2. **Review and Approve Quote**
   - Open the created quote
   - Review quote details, items, and pricing
   - Approve the quote (if approval workflow exists)

3. **Convert Quote to Order**
   - Use the "Convert to Order" functionality
   - Fill in any required order details (order date, delivery dates)
   - Submit the conversion

4. **Verify Order Creation**
   - Navigate to the orders section
   - Verify the new order is created with correct information
   - Check that all quote items are properly transferred to the order
   - Verify pricing and totals are accurate

5. **Test Edge Cases**
   - Convert a quote with multiple items
   - Convert a quote with discounts
   - Convert an expired quote (if applicable)

### UI Elements to Check
- Buttons and navigation elements
- Form fields and validation messages
- Loading states and success notifications
- Data consistency between quote and order
- Responsive design across different screen sizes

## 3. Implementation Approach

1. **Create test files** following the existing project structure
2. **Write comprehensive test cases** covering all edge cases
3. **Run existing tests** to ensure no regressions
4. **Execute manual verification** following the defined steps
5. **Document any issues** found during testing

## 4. Tools and Frameworks

- **Testing Framework**: Jest
- **Test Environment**: Node.js
- **Manual Testing**: Browser testing with Chrome/Firefox/Safari

## 5. Success Criteria

- ✅ All unit tests pass successfully
- ✅ 100% coverage for UI utility functions
- ✅ No regressions in existing functionality
- ✅ Smooth Quote to Order flow with no UI glitches
- ✅ Accurate data transfer from quotes to orders

This plan ensures comprehensive quality assurance for both the UI utility functions and the critical Quote to Order business flow.