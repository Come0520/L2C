## Sentry 集成测试与 CI 流程验证计划

### 1. Sentry 集成测试

**步骤1：启动开发服务器**
- 进入 `slideboard-frontend` 目录
- 运行 `npm run dev` 启动开发服务器
- 验证服务器是否成功启动

**步骤2：测试 Sentry 端点**
- 访问 `http://localhost:3000/api/system/sentry-test`（Node.js 运行时）
- 访问 `http://localhost:3000/api/system/sentry-test-edge`（Edge 运行时）
- 验证两个端点都返回 `{"success": true}`
- 检查 Sentry 仪表板是否收到测试事件

### 2. Bundle 分析

**步骤1：运行 Bundle 分析**
- 进入 `slideboard-frontend` 目录
- 运行 `npm run analyze` 启动 Bundle 分析
- 验证分析报告是否成功生成
- 检查生成的分析文件，了解包大小和依赖情况

### 3. 环境变量配置

**步骤1：添加 Sentry DSN**
- 在项目根目录创建或编辑 `.env.local` 文件
- 添加以下环境变量：
  ```
  SENTRY_DSN=your-sentry-dsn
  NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn
  ```
- 确保 DSN 格式正确

### 4. CI 流程测试

**步骤1：检查代码修改**
- 确保所有代码修改都已保存
- 运行 `npm run lint` 手动检查代码格式

**步骤2：提交代码**
- 使用 `git add .` 添加所有修改
- 使用 `git commit -m "test: Sentry integration and CI workflow"` 提交代码
- 验证提交过程中 lint-staged 是否自动运行并通过

**步骤3：创建 PR**
- 推送代码到远程仓库
- 创建新的 Pull Request
- 验证 CI 流水线是否自动启动
- 检查 CI 流水线中的增量 lint 是否正常工作

### 5. 验证与清理

**步骤1：验证所有测试通过**
- 确认 Sentry 事件已成功发送
- 确认 Bundle 分析报告已生成
- 确认环境变量已正确配置
- 确认 CI 流程正常运行

**步骤2：清理临时文件**
- 关闭开发服务器
- 清理可能生成的临时文件

### 注意事项

1. 确保 Sentry DSN 是有效的，否则测试事件将无法发送
2. 开发服务器默认端口为 3000，如果端口被占用可能需要修改
3. Bundle 分析需要完整构建项目，可能需要较长时间
4. CI 流程测试需要有有效的远程仓库连接
5. 所有命令都需要在正确的目录下执行