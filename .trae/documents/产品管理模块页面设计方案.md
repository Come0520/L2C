# 产品管理模块页面设计方案

## 1. 整体设计思路

基于现有项目架构和组件库，结合产品管理模块设计文档，设计符合业务需求的完整产品管理页面体系。

## 2. 页面设计方案

### 2.1 产品列表页

**功能**：展示所有产品，支持搜索、筛选、分页

**布局**：
- 顶部：搜索栏、筛选条件（分类、状态）、操作按钮（新增产品、导出数据）
- 中部：产品表格，展示产品基本信息
- 底部：分页控件

**关键组件**：
- PaperCard：卡片容器
- PaperTable：产品列表表格
- PaperInput：搜索框
- PaperSelect：筛选下拉框
- PaperButton：操作按钮

### 2.2 产品详情页

**功能**：展示产品的详细信息

**布局**：
- 顶部：产品基本信息（名称、编码、分类、状态）
- 中部：
  - 产品属性：物理属性、计算属性
  - 价格体系：五级价格、门店差异化策略
  - 图片资料：细节图、效果图、案例图
  - 标签体系：风格标签、套餐标识等
  - 审批记录：审批流程和历史
- 底部：操作按钮（编辑、提交审批、上架/下架）

**关键组件**：
- PaperCard：信息卡片
- PaperBadge：状态标识
- PaperStatus：审批状态
- Image：图片展示

### 2.3 产品创建/编辑页

**功能**：用于创建和编辑产品信息

**布局**：
- 多步骤表单：
  1. 基本信息：名称、编码、分类、单位
  2. 产品属性：根据分类动态显示属性字段
  3. 价格体系：五级价格设置
  4. 图片资料：多图上传
  5. 标签体系：标签选择
- 底部：操作按钮（保存草稿、提交审批）

**关键组件**：
- PaperInput：输入框
- PaperSelect：下拉选择
- PaperFileUpload：文件上传
- PaperButton：操作按钮

### 2.4 产品分类管理页

**功能**：管理一级和二级分类

**布局**：
- 左侧：一级分类列表
- 右侧：二级分类列表，支持新增、编辑、删除

**关键组件**：
- PaperTable：分类表格
- PaperButton：操作按钮

### 2.5 门店产品策略页

**功能**：设置和管理门店差异化策略

**布局**：
- 顶部：门店选择
- 中部：产品列表，支持设置门店自定义名称、价格、状态
- 底部：操作按钮（保存）

**关键组件**：
- PaperSelect：门店选择
- PaperTable：产品策略表格
- PaperInput：价格输入
- PaperButton：保存按钮

### 2.6 特殊工艺管理页

**功能**：管理特殊工艺和收费标准

**布局**：
- 顶部：操作按钮（新增工艺）
- 中部：工艺列表表格
- 底部：分页控件

**关键组件**：
- PaperTable：工艺列表
- PaperButton：操作按钮

### 2.7 产品审批页

**功能**：处理产品审批请求

**布局**：
- 顶部：筛选条件（状态、时间范围）
- 中部：审批列表表格
- 底部：分页控件

**关键组件**：
- PaperTable：审批列表
- PaperButton：审批操作按钮

### 2.8 价格计算工具页

**功能**：用于计算窗帘定制价格

**布局**：
- 左侧：输入表单（产品选择、尺寸、计算方式、特殊工艺、距离）
- 右侧：计算结果展示（用料长度、材料费、特殊工艺费、远程费、总价）

**关键组件**：
- PaperInput：输入框
- PaperSelect：下拉选择
- PaperCard：结果展示卡片
- PaperButton：计算按钮

## 3. 数据结构设计

### 3.1 产品类型定义

```typescript
interface Product {
  id: string;
  productCode: string;
  productName: string;
  categoryLevel1: string;
  categoryLevel2: string;
  unit: string;
  status: 'draft' | 'pending' | 'approved' | 'rejected' | 'online' | 'offline';
  prices: {
    costPrice: number;
    internalCostPrice: number;
    internalSettlementPrice: number;
    settlementPrice: number;
    retailPrice: number;
  };
  attributes: any;
  images: {
    detailImages: string[];
    effectImages: string[];
    caseImages: string[];
  };
  tags: {
    styleTags: string[];
    packageTags: string[];
    activityTags: string[];
    seasonTags: string[];
    demographicTags: string[];
  };
  submittedAt?: Date;
  submittedBy?: string;
  approvedAt?: Date;
  approvedBy?: string;
  createdAt: Date;
  updatedAt: Date;
  createdBy: string;
  updatedBy: string;
}
```

### 3.2 门店产品策略类型定义

```typescript
interface StoreProductStrategy {
  id: string;
  storeId: string;
  productCode: string;
  storeProductName: string;
  settlementPrice: number;
  internalSettlementPrice: number;
  status: 'active' | 'inactive';
  createdAt: Date;
  updatedAt: Date;
}
```

### 3.3 特殊工艺类型定义

```typescript
interface SpecialCraft {
  id: string;
  craftCode: string;
  craftName: string;
  price: number;
  unit: '米' | '个' | '次' | '套';
  description: string;
  applicableCategories: string[];
  status: 'active' | 'inactive';
  createdAt: Date;
  updatedAt: Date;
}
```

### 3.4 审批记录类型定义

```typescript
interface ApprovalRecord {
  id: string;
  productCode: string;
  businessType: string;
  submitterId: string;
  submitTime: Date;
  approverId?: string;
  approvalTime?: Date;
  status: 'pending' | 'approved' | 'rejected';
  comments?: string;
  createdAt: Date;
}
```

## 4. 页面路由设计

```
/products                # 产品列表页
/products/create         # 产品创建页
/products/[code]         # 产品详情页
/products/[code]/edit    # 产品编辑页
/products/categories     # 产品分类管理页
/products/store-strategy # 门店产品策略页
/products/special-crafts # 特殊工艺管理页
/products/approvals      # 产品审批页
/products/calculate      # 价格计算工具页
```

## 5. 实现步骤

1. 设计并实现产品列表页
2. 设计并实现产品详情页
3. 设计并实现产品创建/编辑页
4. 设计并实现产品分类管理页
5. 设计并实现门店产品策略页
6. 设计并实现特殊工艺管理页
7. 设计并实现产品审批页
8. 设计并实现价格计算工具页

## 6. 技术要点

1. 使用现有UI组件库，确保页面风格一致
2. 实现响应式设计，适配不同屏幕尺寸
3. 实现表单验证和错误提示
4. 实现图片上传和预览功能
5. 实现动态表单，根据分类显示不同属性字段
6. 实现价格计算逻辑
7. 实现审批流程管理

## 7. 预期效果

1. 完整的产品管理功能，满足业务需求
2. 清晰的页面布局，良好的用户体验
3. 符合现有项目的设计风格
4. 代码结构清晰，易于维护和扩展