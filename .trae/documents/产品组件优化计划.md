# 硬编码数据优化计划

## 一、当前硬编码数据分析

根据之前的代码审查，目前产品模块中仍存在以下硬编码数据需要移动到constants文件：

### 1. ProductTags组件中的tagOptions

**位置**：`src/features/products/components/create/ProductTags.tsx`
**内容**：
```typescript
const tagOptions = {
  styleTags: ['现代简约', '轻奢', '新中式', '北欧', '美式', '欧式'],
  packageTags: ['套餐内', '套餐外', '单品'],
  activityTags: ['热销款', '促销款', '新品', '推荐款'],
  seasonTags: ['春', '夏', '秋', '冬', '四季通用'],
  demographicTags: ['儿童', '老人', '年轻人', '情侣', '家庭']
};
```

**问题**：
- 硬编码在组件内部，难以维护
- 未来筛选列表页面可能也需要这套标签数据
- 不利于统一管理和扩展

## 二、优化方案

### 1. 移动到constants文件

将tagOptions移动到`src/constants/products.ts`文件中：

**实现**：
```typescript
// src/constants/products.ts

export const PRODUCT_TAG_OPTIONS = {
  styleTags: ['现代简约', '轻奢', '新中式', '北欧', '美式', '欧式'],
  packageTags: ['套餐内', '套餐外', '单品'],
  activityTags: ['热销款', '促销款', '新品', '推荐款'],
  seasonTags: ['春', '夏', '秋', '冬', '四季通用'],
  demographicTags: ['儿童', '老人', '年轻人', '情侣', '家庭']
};
```

### 2. 在组件中使用

修改ProductTags组件，从constants导入使用：

**实现**：
```typescript
// src/features/products/components/create/ProductTags.tsx
import { PRODUCT_TAG_OPTIONS } from '@/constants/products';

// 使用常量代替硬编码
export function ProductTags({
  product, onProductChange
}: ProductTagsProps) {
  // 直接使用常量
  const tagOptions = PRODUCT_TAG_OPTIONS;
  
  // 其他现有逻辑...
}
```

## 三、优化价值

1. **单一数据源**：所有产品相关常量集中管理，便于维护
2. **可扩展性**：未来新增标签或修改现有标签时，只需修改一处
3. **一致性**：确保所有使用标签的组件使用相同的数据
4. **复用性**：其他组件（如产品筛选、搜索等）可以直接复用这套标签数据
5. **可测试性**：常量独立管理，便于编写测试用例

## 四、实施步骤

1. **修改constants/products.ts**：添加PRODUCT_TAG_OPTIONS常量
2. **修改ProductTags组件**：导入并使用常量
3. **验证功能**：确保标签选择功能正常工作
4. **检查其他组件**：确保没有遗漏的硬编码标签数据

## 五、预期效果

- 产品模块的硬编码数据得到统一管理
- 组件代码更加简洁，只关注UI逻辑
- 提高了代码的可维护性和扩展性
- 为未来的功能扩展（如标签管理页面）奠定基础

## 六、其他潜在的硬编码检查

在实施过程中，还应检查以下可能存在硬编码数据的地方：

1. **产品状态选项**：虽然我们已经提取了PRODUCT_STATUS_OPTIONS，但需确认是否完整
2. **单位选项**：产品单位（如米、个、套等）可能存在硬编码
3. **其他固定选项**：如计算方式、特殊工艺选项等

通过全面检查和优化，可以确保产品模块的硬编码数据得到彻底清理，实现数据与UI的分离。