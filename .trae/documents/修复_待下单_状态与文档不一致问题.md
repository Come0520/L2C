## 问题分析

通过对比文档和代码，我发现"待下单"状态在前端和数据库中的实现与文档描述存在不一致：

1. **前端状态定义缺失**：
   - 文档中定义的状态标识为 `ORDER_STATUS.PENDING_ORDER`
   - 前端代码中实际使用的是 `PENDING_PRODUCTION`（待生产）
   - 缺少文档中描述的 `PENDING_ORDER` 状态

2. **状态流转不匹配**：
   - 文档：待推单 → 待下单 → 生产中
   - 前端：待推单 → 待生产 → 生产中

3. **API调用不一致**：
   - 前端代码中使用 `pending-place-order` 作为API调用的状态参数
   - 但状态常量中没有对应的定义

4. **数据库设计不匹配**：
   - 数据库使用SMALLINT类型存储状态，与文档中的字符串标识不一致
   - 状态流转规则与文档描述不完全匹配

## 修复计划

### 1. 前端状态定义修复
- 在 `order-status.ts` 中添加 `PENDING_ORDER` 状态定义
- 确保状态标识与文档一致：`ORDER_STATUS.PENDING_ORDER`
- 添加对应的状态配置（颜色、标签等）

### 2. 状态流转修复
- 更新状态流转逻辑，确保从待推单 → 待下单 → 生产中
- 修改相关组件中的状态检查和API调用

### 3. API调用一致性修复
- 确保所有API调用使用统一的状态标识
- 修复 `pending-push-view.tsx` 和 `pending-place-order-view.tsx` 中的API调用

### 4. 数据库设计对齐
- 更新数据库状态流转规则，确保与文档一致
- 考虑添加状态映射表，将字符串标识与数据库SMALLINT值对应

### 5. 组件逻辑修复
- 确保 `pending-place-order-view.tsx` 组件使用正确的状态标识
- 更新组件中的状态检查和流转逻辑

## 预期结果

修复后，前端和数据库中的"待下单"状态实现将与文档完全一致：
- 状态标识：`ORDER_STATUS.PENDING_ORDER`
- 状态流转：待推单 → 待下单 → 生产中
- API调用：统一使用 `PENDING_ORDER` 状态标识
- 数据库状态流转：与文档描述一致

## 实施步骤

1. 修改 `order-status.ts`，添加 `PENDING_ORDER` 状态
2. 更新 `pending-push-view.tsx` 中的API调用
3. 更新 `pending-place-order-view.tsx` 中的状态处理
4. 检查并修复其他使用相关状态的组件
5. 更新数据库状态流转规则（如果需要）
6. 测试状态流转的完整性

这个修复计划将确保"待下单"状态的实现与文档完全一致，提高系统的可维护性和一致性。