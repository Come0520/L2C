# 罗莱L2C销售管理系统 - 命名规范标准

## 🎯 规范目标

### 主要目标
- **统一性**：确保整个项目中的命名风格一致
- **可读性**：命名应该清晰表达其用途和含义
- **可维护性**：便于代码维护和团队协作
- **避免冲突**：防止命名冲突和大小写问题
- **国际化**：支持多语言环境下的命名规范

## 📋 通用命名原则

### 基本原则
1. **语义化**：名称应该清晰表达其用途
2. **一致性**：同类型的命名使用相同的规则
3. **简洁性**：在保证清晰的前提下尽量简洁
4. **避免缩写**：除非是广泛认知的缩写
5. **英文优先**：使用英文命名，避免拼音

### 语言使用规定
1. **API接口**：所有API接口路径、参数名、响应字段名必须使用英文
2. **数据库**：所有数据库表名、字段名、索引名必须使用英文
3. **用户界面**：所有用户可见的文本、标签、提示信息必须使用中文
4. **代码注释**：代码注释可以使用中文，便于团队理解
5. **文档说明**：技术文档中的示例和说明优先使用中文

### 禁用词汇
```javascript
// ❌ 禁止使用的命名
const data = {};           // 过于泛化
const info = {};           // 含义不明确
const temp = {};           // 临时变量应有具体含义
const obj = {};            // 对象类型不明确
const arr = [];            // 数组内容不明确
const str = '';            // 字符串用途不明确
const num = 0;             // 数字含义不明确
const flag = true;         // 标志位用途不明确
```

## 🔤 JavaScript/TypeScript 命名规范

### 变量命名 (camelCase)
```javascript
// ✅ 正确的变量命名
const customerId = 123;                    // 客户ID
const customerName = '张三';               // 客户姓名
const customerPhoneNumber = '13800138000'; // 客户电话
const orderTotalAmount = 50000;            // 销售单总金额
const createdAt = new Date();              // 创建时间
const updatedAt = new Date();              // 更新时间
const isActive = true;                     // 是否激活
const hasPermission = false;               // 是否有权限
const canEdit = true;                      // 是否可编辑

// 集合类型命名
const customerList = [];                   // 客户列表
const orderItems = [];                     // 销售单项目
const productCategories = [];              // 产品分类
const userPermissions = new Set();         // 用户权限集合
const configMap = new Map();               // 配置映射

// 业务相关命名
const leadScore = 85;                      // 线索评分
const conversionRate = 0.15;               // 转化率
const followUpDate = new Date();           // 跟进日期
const budgetRange = { min: 10000, max: 50000 }; // 预算范围
```

### 常量命名 (SCREAMING_SNAKE_CASE)
```javascript
// ✅ 常量命名规范
const MAX_PAGE_SIZE = 100;                 // 最大页面大小
const DEFAULT_TIMEOUT = 5000;              // 默认超时时间
const API_BASE_URL = 'https://api.example.com'; // API基础URL
const CACHE_EXPIRY_TIME = 3600;            // 缓存过期时间

// 业务常量
const LEAD_STATUS = {
  NEW: 'NEW',                              // 新线索
  CONTACTED: 'CONTACTED',                  // 已联系
  QUALIFIED: 'QUALIFIED',                  // 已确认
  CONVERTED: 'CONVERTED',                  // 已转化
  LOST: 'LOST'                            // 已丢失
};

const ORDER_STATUS = {
  PENDING: 'PENDING',                      // 待处理
  CONFIRMED: 'CONFIRMED',                  // 已确认
  SHIPPED: 'SHIPPED',                      // 已发货
  DELIVERED: 'DELIVERED',                  // 已送达
  CANCELLED: 'CANCELLED'                   // 已取消
};

const USER_ROLES = {
  ADMIN: 'ADMIN',                          // 管理员
  SALES_MANAGER: 'SALES_MANAGER',          // 销售经理
  SALES_REP: 'SALES_REP',                  // 销售代表
  CUSTOMER_SERVICE: 'CUSTOMER_SERVICE'     // 客服
};
```

### 函数命名 (camelCase)
```javascript
// ✅ 函数命名规范

// 查询类函数 - get/find/search/query
async function getCustomerById(customerId) {
  // 根据ID获取单个客户
}

async function findCustomersByRegion(region) {
  // 根据地区查找客户
}

async function searchCustomers(criteria, pagination) {
  // 搜索客户（复杂查询）
}

async function queryOrdersByDateRange(startDate, endDate) {
  // 按日期范围查询销售单
}

// 创建类函数 - create/add/save/insert
async function createCustomer(customerData) {
  // 创建新客户
}

async function addOrderItem(orderId, itemData) {
  // 添加销售单项
}

async function saveCustomerProfile(customerId, profileData) {
  // 保存客户档案
}

// 更新类函数 - update/modify/change/edit
async function updateCustomerInfo(customerId, updateData) {
  // 更新客户信息
}

async function modifyOrderStatus(orderId, newStatus) {
  // 修改订单状态
}

async function changeCustomerLevel(customerId, newLevel) {
  // 变更客户等级
}

// 删除类函数 - delete/remove/destroy
async function deleteCustomer(customerId) {
  // 删除客户
}

async function removeOrderItem(orderId, itemId) {
  // 移除订单项
}

// 验证类函数 - validate/check/verify/is/has/can
function validateCustomerData(customerData) {
  // 验证客户数据
}

async function checkCustomerExists(phoneNumber) {
  // 检查客户是否存在
}

function verifyUserPermission(userId, permission) {
  // 验证用户权限
}

function isValidPhoneNumber(phoneNumber) {
  // 是否为有效电话号码
}

function hasActiveOrders(customerId) {
  // 是否有活跃订单
}

function canEditOrder(orderId, userId) {
  // 是否可以编辑订单
}

// 计算类函数 - calculate/compute/count
function calculateOrderTotal(orderItems) {
  // 计算订单总额
}

function computeCommission(salesAmount, rate) {
  // 计算佣金
}

function countActiveCustomers(region) {
  // 统计活跃客户数
}

// 格式化类函数 - format/parse/convert
function formatCurrency(amount) {
  // 格式化货币
}

function parseCustomerData(rawData) {
  // 解析客户数据
}

function convertDateToString(date) {
  // 转换日期为字符串
}
```

### 类命名 (PascalCase)
```javascript
// ✅ 类命名规范
class Customer {
  constructor(customerData) {
    this.id = customerData.id;
    this.name = customerData.name;
    this.phoneNumber = customerData.phoneNumber;
  }
}

class OrderItem {
  constructor(productId, quantity, price) {
    this.productId = productId;
    this.quantity = quantity;
    this.price = price;
  }
}

class SalesReport {
  constructor(startDate, endDate) {
    this.startDate = startDate;
    this.endDate = endDate;
    this.totalSales = 0;
  }
}

// 服务类命名
class CustomerService {
  async createCustomer(customerData) {
    // 创建客户逻辑
  }
}

class OrderService {
  async processOrder(orderData) {
    // 处理订单逻辑
  }
}

class NotificationService {
  async sendEmail(recipient, subject, content) {
    // 发送邮件逻辑
  }
}

// 工具类命名
class DateUtils {
  static formatDate(date, format) {
    // 日期格式化工具
  }
}

class ValidationUtils {
  static isValidEmail(email) {
    // 邮箱验证工具
  }
}
```

## 🗃️ 数据库命名规范

### 表名命名 (snake_case)
```sql
-- ✅ 表名命名规范
CREATE TABLE customers (                   -- 客户表
  id BIGSERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  phone_number VARCHAR(20),
  email VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE TABLE customer_leads (              -- 客户线索表
  id BIGSERIAL PRIMARY KEY,
  customer_id BIGINT,
  source VARCHAR(50),
  status VARCHAR(20),
  score INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE sales_orders (               -- 销售订单表
  id BIGSERIAL PRIMARY KEY,
  customer_id BIGINT NOT NULL,
  order_number VARCHAR(50) UNIQUE,
  total_amount DECIMAL(10,2),
  status VARCHAR(20),
  order_date DATE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE order_items (                -- 订单项表
  id BIGSERIAL PRIMARY KEY,
  order_id BIGINT NOT NULL,
  product_id BIGINT NOT NULL,
  quantity INT NOT NULL,
  unit_price DECIMAL(8,2),
  total_price DECIMAL(10,2)
);

CREATE TABLE product_categories (         -- 产品分类表
  id BIGSERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  parent_id BIGINT,
  sort_order INT DEFAULT 0,
  is_active BOOLEAN DEFAULT TRUE
);

CREATE TABLE user_permissions (           -- 用户权限表
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT NOT NULL,
  permission_code VARCHAR(50) NOT NULL,
  granted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 字段命名规范
```sql
-- ✅ 字段命名规范

-- 主键字段
id BIGSERIAL PRIMARY KEY                   -- 统一使用id作为主键

-- 外键字段
customer_id BIGINT                         -- 客户ID外键
order_id BIGINT                           -- 订单ID外键
product_id BIGINT                         -- 产品ID外键
user_id BIGINT                            -- 用户ID外键

-- 时间字段
created_at TIMESTAMP                      -- 创建时间
updated_at TIMESTAMP                      -- 更新时间
deleted_at TIMESTAMP                      -- 删除时间（软删除）
order_date DATE                           -- 订单日期
follow_up_date DATE                       -- 跟进日期

-- 状态字段
status VARCHAR(20)                        -- 状态
is_active BOOLEAN                         -- 是否激活
is_deleted BOOLEAN                        -- 是否删除
is_verified BOOLEAN                       -- 是否验证

-- 金额字段
total_amount DECIMAL(10,2)                -- 总金额
unit_price DECIMAL(8,2)                   -- 单价
discount_amount DECIMAL(8,2)              -- 折扣金额

-- 文本字段
name VARCHAR(100)                         -- 名称
description TEXT                          -- 描述
remarks TEXT                              -- 备注
phone_number VARCHAR(20)                  -- 电话号码
email VARCHAR(100)                        -- 邮箱地址

-- 编号字段
order_number VARCHAR(50)                  -- 订单编号
customer_code VARCHAR(30)                 -- 客户编码
product_code VARCHAR(30)                  -- 产品编码
```

### 索引命名规范
```sql
-- ✅ 索引命名规范

-- 普通索引：idx_表名_字段名
CREATE INDEX idx_customers_phone_number ON customers(phone_number);
CREATE INDEX idx_orders_customer_id ON sales_orders(customer_id);
CREATE INDEX idx_orders_status ON sales_orders(status);
CREATE INDEX idx_leads_created_at ON customer_leads(created_at);

-- 唯一索引：uk_表名_字段名
CREATE UNIQUE INDEX uk_customers_email ON customers(email);
CREATE UNIQUE INDEX uk_orders_order_number ON sales_orders(order_number);

-- 复合索引：idx_表名_字段1_字段2
CREATE INDEX idx_orders_customer_status ON sales_orders(customer_id, status);
CREATE INDEX idx_leads_source_status ON customer_leads(source, status);

-- 外键索引：fk_表名_关联表名
CREATE INDEX fk_orders_customers ON sales_orders(customer_id);
CREATE INDEX fk_order_items_orders ON order_items(order_id);
CREATE INDEX fk_order_items_products ON order_items(product_id);
```

## 📁 文件和目录命名规范

### 目录结构命名
```
src/
├── components/                    # 组件目录
│   ├── common/                   # 通用组件
│   ├── customer/                 # 客户相关组件
│   ├── order/                    # 订单相关组件
│   └── layout/                   # 布局组件
├── pages/                        # 页面目录
│   ├── customer-management/      # 客户管理页面
│   ├── order-management/         # 订单管理页面
│   └── dashboard/                # 仪表板页面
├── services/                     # 服务层
│   ├── customer-service.js       # 客户服务
│   ├── order-service.js          # 订单服务
│   └── notification-service.js   # 通知服务
├── utils/                        # 工具类
│   ├── date-utils.js             # 日期工具
│   ├── validation-utils.js       # 验证工具
│   └── format-utils.js           # 格式化工具
├── constants/                    # 常量定义
│   ├── api-endpoints.js          # API端点
│   ├── status-codes.js           # 状态码
│   └── error-messages.js         # 错误消息
└── assets/                       # 静态资源
    ├── images/                   # 图片资源
    ├── styles/                   # 样式文件
    └── fonts/                    # 字体文件
```

### 文件命名规范
```javascript
// ✅ 文件命名规范

// 组件文件 (PascalCase.jsx/tsx)
CustomerList.jsx                  // 客户列表组件
OrderDetail.jsx                   // 订单详情组件
ProductCard.jsx                   // 产品卡片组件
NavigationBar.jsx                 // 导航栏组件

// 页面文件 (kebab-case.jsx/tsx)
customer-management.jsx           // 客户管理页面
order-management.jsx              // 订单管理页面
dashboard.jsx                     // 仪表板页面

// 服务文件 (kebab-case.js)
customer-service.js               // 客户服务
order-service.js                  // 订单服务
notification-service.js           // 通知服务
api-service.js                    // API服务

// 工具文件 (kebab-case.js)
date-utils.js                     // 日期工具
validation-utils.js               // 验证工具
format-utils.js                   // 格式化工具
crypto-utils.js                   // 加密工具

// 常量文件 (kebab-case.js)
api-endpoints.js                  // API端点常量
status-codes.js                   // 状态码常量
error-messages.js                 // 错误消息常量
business-rules.js                 // 业务规则常量

// 配置文件 (kebab-case.js)
database-config.js                // 数据库配置
redis-config.js                   // Redis配置
webpack-config.js                 // Webpack配置
```

## 🌐 API 命名规范

### RESTful API 路径命名
```javascript
// ✅ API路径命名规范

// 资源路径使用复数形式，kebab-case
GET    /api/customers                    // 获取客户列表
POST   /api/customers                    // 创建新客户
GET    /api/customers/:id                // 获取指定客户
PUT    /api/customers/:id                // 更新指定客户
DELETE /api/customers/:id                // 删除指定客户

GET    /api/customer-leads               // 获取客户线索列表
POST   /api/customer-leads               // 创建新线索
GET    /api/customer-leads/:id           // 获取指定线索
PUT    /api/customer-leads/:id/status    // 更新线索状态

GET    /api/sales-orders                 // 获取销售订单列表
POST   /api/sales-orders                 // 创建新订单
GET    /api/sales-orders/:id             // 获取指定订单
PUT    /api/sales-orders/:id             // 更新指定订单

GET    /api/order-items                  // 获取订单项列表
POST   /api/order-items                  // 添加订单项
DELETE /api/order-items/:id              // 删除订单项

// 嵌套资源
GET    /api/customers/:id/orders         // 获取客户的订单列表
GET    /api/orders/:id/items             // 获取订单的项目列表
POST   /api/orders/:id/items             // 为订单添加项目

// 操作性API
POST   /api/customers/:id/activate       // 激活客户
POST   /api/orders/:id/confirm           // 确认订单
POST   /api/orders/:id/cancel            // 取消订单
POST   /api/leads/:id/convert            // 转化线索
```

### 请求参数命名
```javascript
// ✅ 请求参数命名规范

// 查询参数 (snake_case)
GET /api/customers?page=1&page_size=20&sort=created_at&sort_order=desc
GET /api/orders?customer_id=123&status=PENDING&start_date=2024-01-01&end_date=2024-01-31

// 请求体参数 (snake_case)
POST /api/customers
{
  "name": "张三",
  "phone_number": "13800138000",
  "email": "zhangsan@example.com",
  "address": "上海市浦东新区",
  "customer_level": "VIP",
  "source": "ONLINE",
  "remarks": "重要客户"
}

POST /api/orders
{
  "customer_id": 123,
  "order_items": [
    {
      "product_id": 456,
      "quantity": 2,
      "unit_price": 299.00
    }
  ],
  "total_amount": 598.00,
  "delivery_address": "上海市浦东新区张江路123号",
  "expected_delivery_date": "2024-02-01",
  "remarks": "请尽快发货"
}
```

### 响应数据命名
```javascript
// ✅ 响应数据命名规范

// 成功响应
{
  "success": true,
  "data": {
    "id": 123,
    "name": "张三",
    "phoneNumber": "13800138000",
    "email": "zhangsan@example.com",
    "customerLevel": "VIP",
    "totalOrders": 5,
    "totalAmount": 15000.00,
    "lastOrderDate": "2024-01-15",
    "createdAt": "2024-01-01T10:00:00Z",
    "updatedAt": "2024-01-15T15:30:00Z"
  },
  "message": "操作成功"
}

// 列表响应
{
  "success": true,
  "data": {
    "items": [
      {
        "id": 123,
        "name": "张三",
        "phoneNumber": "13800138000"
      }
    ],
    "pagination": {
      "currentPage": 1,
      "pageSize": 20,
      "totalItems": 150,
      "totalPages": 8,
      "hasNextPage": true,
      "hasPreviousPage": false
    }
  },
  "message": "查询成功"
}

// 错误响应
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "数据验证失败",
    "details": [
      {
        "field": "phoneNumber",
        "message": "电话号码格式不正确"
      }
    ]
  }
}
```

## 🎨 CSS/SCSS 命名规范

### BEM 命名方法
```scss
// ✅ BEM命名规范

// Block（块）
.customer-card {
  padding: 16px;
  border: 1px solid #ddd;
  border-radius: 8px;
}

// Element（元素）
.customer-card__header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
}

.customer-card__title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}

.customer-card__subtitle {
  font-size: 14px;
  color: #666;
}

.customer-card__content {
  margin-bottom: 16px;
}

.customer-card__footer {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

// Modifier（修饰符）
.customer-card--vip {
  border-color: #gold;
  background-color: #fffbf0;
}

.customer-card--inactive {
  opacity: 0.6;
  background-color: #f5f5f5;
}

.customer-card__title--large {
  font-size: 20px;
}

.customer-card__button--primary {
  background-color: #007bff;
  color: white;
}

.customer-card__button--secondary {
  background-color: #6c757d;
  color: white;
}
```

### 工具类命名
```scss
// ✅ 工具类命名规范

// 间距工具类
.margin-top-small { margin-top: 8px; }
.margin-top-medium { margin-top: 16px; }
.margin-top-large { margin-top: 24px; }

.padding-horizontal-small { padding-left: 8px; padding-right: 8px; }
.padding-horizontal-medium { padding-left: 16px; padding-right: 16px; }

// 文本工具类
.text-primary { color: #007bff; }
.text-secondary { color: #6c757d; }
.text-success { color: #28a745; }
.text-danger { color: #dc3545; }
.text-warning { color: #ffc107; }

.text-size-small { font-size: 12px; }
.text-size-medium { font-size: 14px; }
.text-size-large { font-size: 16px; }

.text-weight-normal { font-weight: 400; }
.text-weight-bold { font-weight: 700; }

// 布局工具类
.display-flex { display: flex; }
.display-block { display: block; }
.display-none { display: none; }

.justify-content-center { justify-content: center; }
.justify-content-between { justify-content: space-between; }
.align-items-center { align-items: center; }
```

## 📊 命名检查清单

### 代码审查检查项
- [ ] 变量名使用camelCase格式
- [ ] 常量名使用SCREAMING_SNAKE_CASE格式
- [ ] 函数名清晰表达其功能
- [ ] 类名使用PascalCase格式
- [ ] 文件名遵循项目约定
- [ ] 数据库表名和字段名使用snake_case格式
- [ ] API路径使用kebab-case格式
- [ ] CSS类名遵循BEM规范
- [ ] 没有使用禁用词汇
- [ ] 命名具有语义化含义

### 自动化检查工具
```javascript
// ESLint 配置示例
{
  "rules": {
    "camelcase": ["error", { "properties": "always" }],
    "no-underscore-dangle": ["error", { "allowAfterThis": true }],
    "prefer-const": "error",
    "no-var": "error"
  }
}

// Prettier 配置示例
{
  "singleQuote": true,
  "trailingComma": "es5",
  "tabWidth": 2,
  "semi": true
}
```

## 🚀 最佳实践

### 命名重构指南
```javascript
// ❌ 重构前
const d = new Date();
const u = users.filter(x => x.active);
const calc = (a, b) => a * b * 0.1;

// ✅ 重构后
const currentDate = new Date();
const activeUsers = users.filter(user => user.isActive);
const calculateCommission = (salesAmount, rate) => salesAmount * rate * 0.1;
```

### 团队协作规范
1. **代码审查**：每次提交都要检查命名规范
2. **文档更新**：新增命名规则要及时更新文档
3. **培训分享**：定期分享命名最佳实践
4. **工具支持**：使用ESLint等工具自动检查

---

**文档维护**：本文档应随着项目发展持续更新，确保命名规范的时效性和实用性。

**版本信息**：
- 创建时间：2024-01-15
- 最后更新：2024-01-15
- 文档版本：v1.0
- 维护人员：开发团队
