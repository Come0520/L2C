# Lint æ£˜æ‰‹é—®é¢˜æŠ¥å‘Š

> æœ€åæ›´æ–°: 2026-01-20 18:45

## æ¦‚è§ˆ

| æŒ‡æ ‡ | åˆå§‹ | ç°åœ¨ | å˜åŒ– |
|------|------|------|------|
| âœ… **Errors** | 3 | **0** | âœ… -3 |
| âš ï¸ **Warnings** | 774 | **749** | â¬‡ï¸ -25 |
| ğŸ”´ **no-explicit-any** | ~400 | ~400 | é«˜é£é™©ï¼Œæš‚ä¸å¤„ç† |

## å·²ä¿®å¤é—®é¢˜

### 1. `halt-order.test.ts` (ç¬¬ 40 è¡Œ)
- **é”™è¯¯ç±»å‹**: `@typescript-eslint/no-non-null-asserted-optional-chain`
- **ä¿®å¤æ–¹æ¡ˆ**: å°† `user?.id!` æ”¹ä¸ºå…ˆæ£€æŸ¥ `if (!user) throw new Error("No User")`

### 2. `create-task.test.ts` (ç¬¬ 42 è¡Œ)
- **é”™è¯¯ç±»å‹**: `@typescript-eslint/no-non-null-asserted-optional-chain`
- **ä¿®å¤æ–¹æ¡ˆ**: åŒä¸Š

### 3. `mobile-auth-context.tsx` (ç¬¬ 92 è¡Œ)
- **é”™è¯¯ç±»å‹**: `react-hooks/set-state-in-effect`
- **ä¿®å¤æ–¹æ¡ˆ**: ä½¿ç”¨ `useState` æƒ°æ€§åˆå§‹åŒ–ä»£æ›¿ `useEffect` ä¸­çš„ `setState`

---

## å‰©ä½™ Warnings åˆ†æ

### æŒ‰ç±»å‹åˆ†å¸ƒ

| è§„åˆ™ | æ•°é‡ | å æ¯” | é£é™©ç­‰çº§ |
|------|------|------|----------|
| `@typescript-eslint/no-explicit-any` | 408 | 53% | ğŸ”´ é«˜ |
| `@typescript-eslint/no-unused-vars` | 358 | 46% | ğŸŸ¡ ä¸­ |
| `react-hooks/*` | 4 | <1% | ğŸŸ¢ ä½ |
| å…¶ä»– | ~4 | <1% | ğŸŸ¢ ä½ |

---

## æ£˜æ‰‹é—®é¢˜è¯¦æƒ…

### 1. `@typescript-eslint/no-explicit-any` (408 ä¸ª)

- **é£é™©ç­‰çº§**: ğŸ”´ é«˜
- **åŸå› **: 
  - è®¸å¤š `any` ç±»å‹æ¥è‡ªç¬¬ä¸‰æ–¹åº“è¿”å›å€¼æˆ–å¤æ‚æ³›å‹
  - ç›²ç›®æ·»åŠ ç±»å‹å¯èƒ½å¯¼è‡´ç±»å‹ä¸åŒ¹é…é”™è¯¯
  - éœ€è¦æ·±å…¥ç†è§£æ¯ä¸ªå˜é‡çš„å®é™…ç”¨é€”
- **å»ºè®®**:
  1. **åˆ†æ‰¹å¤„ç†**: æŒ‰æ¨¡å—é€æ­¥æ·»åŠ ç±»å‹ï¼Œæ¯æ¬¡æäº¤åéªŒè¯
  2. **ä¼˜å…ˆçº§**: å…ˆå¤„ç† `src/shared/` å…±äº«æ¨¡å—ï¼Œå†å¤„ç†ä¸šåŠ¡æ¨¡å—
  3. **ç­–ç•¥**:
     - å¯¹äºæ˜ç¡®çš„ç±»å‹ï¼Œç›´æ¥æ·»åŠ 
     - å¯¹äºå¤æ‚ç±»å‹ï¼Œä½¿ç”¨ `unknown` + ç±»å‹å®ˆå«
     - å¯¹äºç¬¬ä¸‰æ–¹åº“ï¼Œä½¿ç”¨ç±»å‹æ–­è¨€æˆ–å®šä¹‰æ¥å£

### 2. `@typescript-eslint/no-unused-vars` (358 ä¸ª)

- **é£é™©ç­‰çº§**: ğŸŸ¡ ä¸­
- **åŸå› **:
  - éƒ¨åˆ†æ˜¯çœŸæ­£æœªä½¿ç”¨çš„å˜é‡ï¼ˆå¯å®‰å…¨åˆ é™¤ï¼‰
  - éƒ¨åˆ†æ˜¯å‡½æ•°å‚æ•°ï¼ˆéœ€ä¿ç•™ç­¾åä¸€è‡´æ€§ï¼‰
  - éƒ¨åˆ†æ˜¯è§£æ„ä¸­çš„å ä½ï¼ˆå¦‚ `const { unused, used } = obj`ï¼‰
- **å»ºè®®**:
  1. **è‡ªåŠ¨ä¿®å¤**: å¯¹äºæ˜æ˜¾æœªä½¿ç”¨çš„å¯¼å…¥ï¼Œå¯ä½¿ç”¨ `--fix`
  2. **æ‰‹åŠ¨å¤„ç†**: 
     - å‡½æ•°å‚æ•°æ·»åŠ  `_` å‰ç¼€ï¼Œå¦‚ `_unused`
     - è§£æ„å ä½ä½¿ç”¨ `_`ï¼Œå¦‚ `const { _unused, used } = obj`
  3. **è­¦å‘Š**: ä¸è¦ç›²ç›®åˆ é™¤ï¼ŒæŸäº›å˜é‡å¯èƒ½æ˜¯é¢„ç•™æ¥å£

### 3. `react-hooks/*` (4 ä¸ª)

- **é£é™©ç­‰çº§**: ğŸŸ¢ ä½
- **åŸå› **: é€šå¸¸æ˜¯ useEffect ä¾èµ–é¡¹é—®é¢˜
- **å»ºè®®**: é€ä¸ªåˆ†æä¾èµ–é¡¹ï¼Œæ·»åŠ ç¼ºå¤±çš„æˆ–ä½¿ç”¨ `useCallback`/`useMemo`

---

## æ¨èå¤„ç†é¡ºåº

1. **Phase 1**: å¤„ç† `react-hooks` è§„åˆ™ (4 ä¸ªï¼Œä½é£é™©)
2. **Phase 2**: å¤„ç† `no-unused-vars` ä¸­çš„æœªä½¿ç”¨å¯¼å…¥ (ä½¿ç”¨ `eslint --fix`)
3. **Phase 3**: æ‰‹åŠ¨å¤„ç† `no-unused-vars` ä¸­çš„å‡½æ•°å‚æ•°
4. **Phase 4**: é€æ¨¡å—å¤„ç† `no-explicit-any`

---

## å‘½ä»¤å‚è€ƒ

```bash
# åªæŸ¥çœ‹ errors
pnpm eslint . --quiet

# è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
pnpm eslint . --fix

# æŸ¥çœ‹ç‰¹å®šæ–‡ä»¶çš„é—®é¢˜
pnpm eslint src/path/to/file.ts

# æŸ¥çœ‹ç‰¹å®šè§„åˆ™çš„é—®é¢˜
pnpm eslint . --rule "@typescript-eslint/no-unused-vars: warn"
```

---

> **æ³¨æ„**: 774 ä¸ª warnings æ•°é‡è¾ƒå¤§ï¼Œå»ºè®®åˆ†å¤šä¸ª PR é€æ­¥å¤„ç†ï¼Œé¿å…ä¸€æ¬¡æ€§å¤§è§„æ¨¡ä¿®æ”¹å¼•å…¥é£é™©ã€‚
