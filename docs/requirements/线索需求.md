业务需求：线索模块的状态机设计
AI 指令： “请在线索（Leads）模块中实现以下状态流转逻辑。

默认状态：导入后默认为 PENDING_ASSIGNMENT（待分配）。

核心字段：status（枚举类型）、source（线索来源）、assigned_to（负责人）。

状态枚举：

PENDING_ASSIGNMENT (待分配)

PENDING_FOLLOWUP (待跟踪)

FOLLOWING_UP (跟踪中)

INVALID (已失效)

WON (已成交)

功能要求：实现一个状态变更记录表 lead_status_history，记录每一次状态切换的操作人、时间及备注。”

对于窗帘 SaaS 这种 L2C 系统，你的状态链路可以更精细化，以提高转化率监控的准确性。我建议增加以下几个状态：

已约量尺 (MEASUREMENT_SCHEDULED):

建议理由：这是窗帘行业的关键节点。从“跟踪”到“量尺”是意向度的重大飞跃。

已报价 (QUOTED):

建议理由：量尺后不一定马上成交。记录“已报价”状态可以帮助销售追踪那些嫌贵或在对比价格的客户。

战败/流失 (LOST):

建议理由：不要只用“已失效”。“战败”应该关联一个流失原因（如：价格太高、款式不喜欢、竞品截胡）。这对你分析“圣都组”的业务瓶颈至关重要。

待复核 (PENDING_REVIEW):

建议理由：大客户（如装企）的线索转成交前，可能需要主管复核方案或折扣。

🛠️ 建议的数据库字段 (Drizzle Schema) 补充
你可以让 AI 在建立 leads 表时，包含以下针对“批量导入”友好的字段：

import_batch_id: 记录是哪一次批量导入的，方便一旦发现 Excel 数据有问题，可以“一键撤销”该批次。

raw_data:（可选）用 JSON 存储导入时的原始行数据，防止逻辑错误导致原始信息丢失。

last_followup_at: 自动记录最后一次跟进时间，用于触发“呆滞线索”提醒。