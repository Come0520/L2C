{"numTotalTestSuites":63,"numPassedTestSuites":63,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":90,"numPassedTests":90,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1771819282801,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["Distribution Engine","configureDistributionStrategy"],"fullName":"Distribution Engine configureDistributionStrategy should require authentication","status":"passed","title":"should require authentication","duration":13.83940000000075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Distribution Engine","configureDistributionStrategy"],"fullName":"Distribution Engine configureDistributionStrategy should update tenant distribution config","status":"passed","title":"should update tenant distribution config","duration":2.8554000000003725,"failureMessages":[],"meta":{}},{"ancestorTitles":["Distribution Engine","distributeToNextSales"],"fullName":"Distribution Engine distributeToNextSales should return MANUAL if strategy is manual","status":"passed","title":"should return MANUAL if strategy is manual","duration":3.1582000000016706,"failureMessages":[],"meta":{}},{"ancestorTitles":["Distribution Engine","distributeToNextSales"],"fullName":"Distribution Engine distributeToNextSales should distribute using ROUND_ROBIN","status":"passed","title":"should distribute using ROUND_ROBIN","duration":3.1067999999995664,"failureMessages":[],"meta":{}},{"ancestorTitles":["Distribution Engine","getDistributionStatus"],"fullName":"Distribution Engine getDistributionStatus should return correct distribution status","status":"passed","title":"should return correct distribution status","duration":2.3744000000006054,"failureMessages":[],"meta":{}},{"ancestorTitles":["Distribution Engine","getDistributionStatus"],"fullName":"Distribution Engine getDistributionStatus should require authentication","status":"passed","title":"should require authentication","duration":1.2300000000013824,"failureMessages":[],"meta":{}}],"startTime":1771819292777,"endTime":1771819292805.23,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/distribution.test.ts"},{"assertionResults":[{"ancestorTitles":["LeadService","createLead"],"fullName":"LeadService createLead should create a lead successfully with auto-distribution","status":"passed","title":"should create a lead successfully with auto-distribution","duration":11.110099999999875,"failureMessages":[],"meta":{}},{"ancestorTitles":["LeadService","createLead"],"fullName":"LeadService createLead should detect phone duplicate","status":"passed","title":"should detect phone duplicate","duration":1.6231000000007043,"failureMessages":[],"meta":{}},{"ancestorTitles":["LeadService","getLead"],"fullName":"LeadService getLead should return lead if found and tenant matches","status":"passed","title":"should return lead if found and tenant matches","duration":1.1247999999995955,"failureMessages":[],"meta":{}},{"ancestorTitles":["LeadService","getLead"],"fullName":"LeadService getLead should return null if tenant mismatch","status":"passed","title":"should return null if tenant mismatch","duration":1.1349000000009255,"failureMessages":[],"meta":{}},{"ancestorTitles":["LeadService","claimFromPool"],"fullName":"LeadService claimFromPool should claim successfully","status":"passed","title":"should claim successfully","duration":1.8705000000009022,"failureMessages":[],"meta":{}},{"ancestorTitles":["LeadService","claimFromPool"],"fullName":"LeadService claimFromPool should throw if already assigned","status":"passed","title":"should throw if already assigned","duration":4.346200000001772,"failureMessages":[],"meta":{}},{"ancestorTitles":["LeadService","convertLead"],"fullName":"LeadService convertLead should convert lead successfully","status":"passed","title":"should convert lead successfully","duration":2.7713999999996304,"failureMessages":[],"meta":{}}],"startTime":1771819296009,"endTime":1771819296034.7715,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/lead-service.test.ts"},{"assertionResults":[{"ancestorTitles":["Mobile API","GET /leads"],"fullName":"Mobile API GET /leads should return paginated list","status":"passed","title":"should return paginated list","duration":20.862500000000182,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mobile API","POST /leads"],"fullName":"Mobile API POST /leads should create lead","status":"passed","title":"should create lead","duration":11.458999999999833,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mobile API","POST /leads"],"fullName":"Mobile API POST /leads should return 400 for invalid data","status":"passed","title":"should return 400 for invalid data","duration":8.190200000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mobile API","PUT /leads/:id"],"fullName":"Mobile API PUT /leads/:id should block unauthorized update","status":"passed","title":"should block unauthorized update","duration":9.78439999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Mobile API","POST /leads/:id/followup"],"fullName":"Mobile API POST /leads/:id/followup should validate status whitelist","status":"passed","title":"should validate status whitelist","duration":1.059900000000198,"failureMessages":[],"meta":{}}],"startTime":1771819290309,"endTime":1771819290362.0598,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/mobile-api.test.ts"},{"assertionResults":[{"ancestorTitles":["Pool Recycle Job"],"fullName":"Pool Recycle Job should skip tenants with auto-recycle disabled","status":"passed","title":"should skip tenants with auto-recycle disabled","duration":8.241400000000795,"failureMessages":[],"meta":{}},{"ancestorTitles":["Pool Recycle Job"],"fullName":"Pool Recycle Job 应当回收超期未联系的线索 (Status: PENDING_FOLLOWUP)","status":"passed","title":"应当回收超期未联系的线索 (Status: PENDING_FOLLOWUP)","duration":3.2379000000000815,"failureMessages":[],"meta":{}},{"ancestorTitles":["Pool Recycle Job"],"fullName":"Pool Recycle Job 应当回收超期未成交的线索 (Status: FOLLOWING_UP)","status":"passed","title":"应当回收超期未成交的线索 (Status: FOLLOWING_UP)","duration":1.835800000000745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Pool Recycle Job"],"fullName":"Pool Recycle Job 不应当回收在 SLA 期限内的线索","status":"passed","title":"不应当回收在 SLA 期限内的线索","duration":1.4195999999992637,"failureMessages":[],"meta":{}}],"startTime":1771819291795,"endTime":1771819291810.4197,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/pool-recycle.test.ts"},{"assertionResults":[{"ancestorTitles":["Leads Queries","getLeadFunnelStats"],"fullName":"Leads Queries getLeadFunnelStats should return funnel statistics correctly","status":"passed","title":"should return funnel statistics correctly","duration":13.532400000000052,"failureMessages":[],"meta":{}},{"ancestorTitles":["Leads Queries","getLeadFunnelStats"],"fullName":"Leads Queries getLeadFunnelStats should throw error if user is not authenticated","status":"passed","title":"should throw error if user is not authenticated","duration":4.5554000000011,"failureMessages":[],"meta":{}}],"startTime":1771819292918,"endTime":1771819292936.5554,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/queries.test.ts"},{"assertionResults":[{"ancestorTitles":["Lead Restore Actions","canRestoreLead"],"fullName":"Lead Restore Actions canRestoreLead should return false if user is not authenticated","status":"passed","title":"should return false if user is not authenticated","duration":6.350799999998344,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","canRestoreLead"],"fullName":"Lead Restore Actions canRestoreLead should return false if lead does not exist","status":"passed","title":"should return false if lead does not exist","duration":1.817800000000716,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","canRestoreLead"],"fullName":"Lead Restore Actions canRestoreLead should return false if lead status is not INVALID","status":"passed","title":"should return false if lead status is not INVALID","duration":1.106100000000879,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","canRestoreLead"],"fullName":"Lead Restore Actions canRestoreLead should return true if lead status is INVALID","status":"passed","title":"should return true if lead status is INVALID","duration":1.1943000000010215,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","restoreLeadAction"],"fullName":"Lead Restore Actions restoreLeadAction should throw/return error if not authenticated","status":"passed","title":"should throw/return error if not authenticated","duration":2.3197000000000116,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","restoreLeadAction"],"fullName":"Lead Restore Actions restoreLeadAction should check permissions","status":"passed","title":"should check permissions","duration":105.91690000000017,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","restoreLeadAction"],"fullName":"Lead Restore Actions restoreLeadAction should fail if lead not found","status":"passed","title":"should fail if lead not found","duration":2.159700000000157,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","restoreLeadAction"],"fullName":"Lead Restore Actions restoreLeadAction should fail if lead is not INVALID","status":"passed","title":"should fail if lead is not INVALID","duration":1.8814000000002125,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Restore Actions","restoreLeadAction"],"fullName":"Lead Restore Actions restoreLeadAction should restore lead successfully","status":"passed","title":"should restore lead successfully","duration":129.46420000000035,"failureMessages":[],"meta":{}}],"startTime":1771819292857,"endTime":1771819293110.464,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/restore.test.ts"},{"assertionResults":[{"ancestorTitles":["scoring-config","calculateBudgetScore"],"fullName":"scoring-config calculateBudgetScore 应返回满分 35 分当预算 >= 50000","status":"passed","title":"应返回满分 35 分当预算 >= 50000","duration":3.2156000000004497,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","calculateBudgetScore"],"fullName":"scoring-config calculateBudgetScore 应返回 28 分当预算 20000-50000","status":"passed","title":"应返回 28 分当预算 20000-50000","duration":0.5167000000001281,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","calculateBudgetScore"],"fullName":"scoring-config calculateBudgetScore 应返回 20 分当预算 10000-20000","status":"passed","title":"应返回 20 分当预算 10000-20000","duration":0.47220000000015716,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","calculateBudgetScore"],"fullName":"scoring-config calculateBudgetScore 应返回 12 分当预算 5000-10000","status":"passed","title":"应返回 12 分当预算 5000-10000","duration":0.7067999999999302,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","calculateBudgetScore"],"fullName":"scoring-config calculateBudgetScore 应返回 5 分当预算 > 0","status":"passed","title":"应返回 5 分当预算 > 0","duration":0.6105999999999767,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","calculateBudgetScore"],"fullName":"scoring-config calculateBudgetScore 应返回 0 分当预算 = 0","status":"passed","title":"应返回 0 分当预算 = 0","duration":0.25280000000020664,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getStarRating"],"fullName":"scoring-config getStarRating 应返回 5 星当分数 >= 80","status":"passed","title":"应返回 5 星当分数 >= 80","duration":0.5549000000000888,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getStarRating"],"fullName":"scoring-config getStarRating 应返回 4 星当分数 60-79","status":"passed","title":"应返回 4 星当分数 60-79","duration":0.34540000000015425,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getStarRating"],"fullName":"scoring-config getStarRating 应返回 3 星当分数 40-59","status":"passed","title":"应返回 3 星当分数 40-59","duration":0.7006000000001222,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getStarRating"],"fullName":"scoring-config getStarRating 应返回 2 星当分数 20-39","status":"passed","title":"应返回 2 星当分数 20-39","duration":0.36820000000079744,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getStarRating"],"fullName":"scoring-config getStarRating 应返回 1 星当分数 < 20","status":"passed","title":"应返回 1 星当分数 < 20","duration":0.2154000000000451,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getPriorityLabel"],"fullName":"scoring-config getPriorityLabel 应返回热门线索当分数 >= 70","status":"passed","title":"应返回热门线索当分数 >= 70","duration":0.32230000000072323,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getPriorityLabel"],"fullName":"scoring-config getPriorityLabel 应返回优质线索当分数 50-69","status":"passed","title":"应返回优质线索当分数 50-69","duration":0.2015000000001237,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getPriorityLabel"],"fullName":"scoring-config getPriorityLabel 应返回普通线索当分数 30-49","status":"passed","title":"应返回普通线索当分数 30-49","duration":0.17959999999948195,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","getPriorityLabel"],"fullName":"scoring-config getPriorityLabel 应返回待培育当分数 < 30","status":"passed","title":"应返回待培育当分数 < 30","duration":0.25420000000030996,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","权重配置"],"fullName":"scoring-config 权重配置 来源权重应包含所有必要渠道","status":"passed","title":"来源权重应包含所有必要渠道","duration":0.488999999999578,"failureMessages":[],"meta":{}},{"ancestorTitles":["scoring-config","权重配置"],"fullName":"scoring-config 权重配置 意向度权重应包含所有级别","status":"passed","title":"意向度权重应包含所有级别","duration":0.26890000000003056,"failureMessages":[],"meta":{}}],"startTime":1771819289173,"endTime":1771819289184.2688,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/scoring-config.test.ts"},{"assertionResults":[{"ancestorTitles":["Webhook Handler","verifyAccessToken"],"fullName":"Webhook Handler verifyAccessToken should return false if token is missing","status":"passed","title":"should return false if token is missing","duration":4.087599999998929,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","verifyAccessToken"],"fullName":"Webhook Handler verifyAccessToken should return true if token matches tenant settings","status":"passed","title":"should return true if token matches tenant settings","duration":3.0241000000005442,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","verifyAccessToken"],"fullName":"Webhook Handler verifyAccessToken should return false if token mismatch","status":"passed","title":"should return false if token mismatch","duration":0.8914999999997235,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","matchChannel"],"fullName":"Webhook Handler matchChannel should return empty if no category name","status":"passed","title":"should return empty if no category name","duration":2.5534000000006927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","matchChannel"],"fullName":"Webhook Handler matchChannel should match precise channel name","status":"passed","title":"should match precise channel name","duration":2.007400000000416,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","handleWebhookRequest"],"fullName":"Webhook Handler handleWebhookRequest should return 400 if missing required fields","status":"passed","title":"should return 400 if missing required fields","duration":0.9404000000013184,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","handleWebhookRequest"],"fullName":"Webhook Handler handleWebhookRequest should return 200 (idempotent) if external_id exists","status":"passed","title":"should return 200 (idempotent) if external_id exists","duration":1.2938000000012835,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","handleWebhookRequest"],"fullName":"Webhook Handler handleWebhookRequest should create lead if new","status":"passed","title":"should create lead if new","duration":7.727999999999156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Handler","handleWebhookRequest"],"fullName":"Webhook Handler handleWebhookRequest should return 409 if duplicate phone/address detected","status":"passed","title":"should return 409 if duplicate phone/address detected","duration":2.063299999999799,"failureMessages":[],"meta":{}}],"startTime":1771819292667,"endTime":1771819292693.0632,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/__tests__/webhook.test.ts"},{"assertionResults":[{"ancestorTitles":["Lead Analytics (L5)","getLeadChannelROIStats"],"fullName":"Lead Analytics (L5) getLeadChannelROIStats 应当正确计算各大渠道的转化与平均单价","status":"passed","title":"应当正确计算各大渠道的转化与平均单价","duration":3480.739600000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Analytics (L5)","getLeadChannelROIStats"],"fullName":"Lead Analytics (L5) getLeadChannelROIStats 应当处理空数据情况","status":"passed","title":"应当处理空数据情况","duration":3.68579999999929,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Analytics (L5)","getLeadChannelROIStats"],"fullName":"Lead Analytics (L5) getLeadChannelROIStats 应当正确处理订单数为 0 的情况（避免除以零）","status":"passed","title":"应当正确处理订单数为 0 的情况（避免除以零）","duration":4.34690000000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Analytics (L5)","getLeadChannelROIStats"],"fullName":"Lead Analytics (L5) getLeadChannelROIStats 应当记录性能日志","status":"passed","title":"应当记录性能日志","duration":12.577499999999418,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Analytics (L5)","getLeadChannelROIStats"],"fullName":"Lead Analytics (L5) getLeadChannelROIStats 应当拦截未授权访问","status":"passed","title":"应当拦截未授权访问","duration":4.005400000000009,"failureMessages":[],"meta":{}}],"startTime":1771819289367,"endTime":1771819292873.0054,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/actions/__tests__/analytics.test.ts"},{"assertionResults":[{"ancestorTitles":["Lead Mutations (L5)","createLead"],"fullName":"Lead Mutations (L5) createLead 应当成功创建线索并返回数据","status":"passed","title":"应当成功创建线索并返回数据","duration":2364.0452000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","createLead"],"fullName":"Lead Mutations (L5) createLead 检测到重复线索时应返回 DUPLICATE 状态","status":"passed","title":"检测到重复线索时应返回 DUPLICATE 状态","duration":1.9669999999996435,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","createLead"],"fullName":"Lead Mutations (L5) createLead 未登录时应抛出 Unauthorized","status":"passed","title":"未登录时应抛出 Unauthorized","duration":3.826600000000326,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","updateLead"],"fullName":"Lead Mutations (L5) updateLead 应当委托 LeadService.updateLead 并返回成功结果","status":"passed","title":"应当委托 LeadService.updateLead 并返回成功结果","duration":11.507100000000719,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","assignLead"],"fullName":"Lead Mutations (L5) assignLead 应当调用 LeadService.assignLead 并传入正确参数","status":"passed","title":"应当调用 LeadService.assignLead 并传入正确参数","duration":8.614799999999377,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","addFollowup"],"fullName":"Lead Mutations (L5) addFollowup 应当调用 LeadService.addActivity","status":"passed","title":"应当调用 LeadService.addActivity","duration":6.655800000000454,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","voidLead"],"fullName":"Lead Mutations (L5) voidLead 应当成功作废线索","status":"passed","title":"应当成功作废线索","duration":6.421400000001086,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","voidLead"],"fullName":"Lead Mutations (L5) voidLead Service 抛出异常时应返回失败","status":"passed","title":"Service 抛出异常时应返回失败","duration":5.398000000001048,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","releaseToPool"],"fullName":"Lead Mutations (L5) releaseToPool 应当释放线索到公海池","status":"passed","title":"应当释放线索到公海池","duration":4.013100000000122,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","claimFromPool"],"fullName":"Lead Mutations (L5) claimFromPool 应当从公海池认领线索","status":"passed","title":"应当从公海池认领线索","duration":2.8668999999990774,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","convertLead"],"fullName":"Lead Mutations (L5) convertLead 应当转化线索为客户并返回新客户 ID","status":"passed","title":"应当转化线索为客户并返回新客户 ID","duration":3.8621000000002823,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","importLeads"],"fullName":"Lead Mutations (L5) importLeads 应当批量导入并统计成功/失败数","status":"passed","title":"应当批量导入并统计成功/失败数","duration":4.685900000000402,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Mutations (L5)","importLeads"],"fullName":"Lead Mutations (L5) importLeads 格式不合法的行应记录错误而不中断","status":"passed","title":"格式不合法的行应记录错误而不中断","duration":3.361400000001595,"failureMessages":[],"meta":{}}],"startTime":1771819289347,"endTime":1771819291777.3613,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/actions/__tests__/mutations.test.ts"},{"assertionResults":[{"ancestorTitles":["Lead Queries (L5)","getLeads"],"fullName":"Lead Queries (L5) getLeads 应当返回分页的线索数据并支持状态过滤","status":"passed","title":"应当返回分页的线索数据并支持状态过滤","duration":3558.4168999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getLeads"],"fullName":"Lead Queries (L5) getLeads 未登录时应抛出错误","status":"passed","title":"未登录时应抛出错误","duration":4.5648999999993976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getLeadById"],"fullName":"Lead Queries (L5) getLeadById 应当返回存在的线索详情","status":"passed","title":"应当返回存在的线索详情","duration":7.65139999999883,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getLeadById"],"fullName":"Lead Queries (L5) getLeadById 未找到线索时返回 null","status":"passed","title":"未找到线索时返回 null","duration":2.7146000000011554,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getLeadTimeline"],"fullName":"Lead Queries (L5) getLeadTimeline 应当必须验证线索归属于当前租户才能返回活动记录","status":"passed","title":"应当必须验证线索归属于当前租户才能返回活动记录","duration":3.4079000000001543,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getLeadTimeline"],"fullName":"Lead Queries (L5) getLeadTimeline 如果线索不属于当前租户则抛出错误","status":"passed","title":"如果线索不属于当前租户则抛出错误","duration":3.102500000000873,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getChannels"],"fullName":"Lead Queries (L5) getChannels 应当返回渠道列表","status":"passed","title":"应当返回渠道列表","duration":3.2313999999987573,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Queries (L5)","getSalesUsers"],"fullName":"Lead Queries (L5) getSalesUsers 应当返回同租户下的有效销售人员","status":"passed","title":"应当返回同租户下的有效销售人员","duration":2.6190999999998894,"failureMessages":[],"meta":{}}],"startTime":1771819289347,"endTime":1771819292933.6191,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/actions/__tests__/queries.test.ts"},{"assertionResults":[{"ancestorTitles":["Lead Scoring & Duplicate Check (L5)","calculateLeadScore"],"fullName":"Lead Scoring & Duplicate Check (L5) calculateLeadScore 应当按照权重公式正确计算评分","status":"passed","title":"应当按照权重公式正确计算评分","duration":3554.0558,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Scoring & Duplicate Check (L5)","calculateLeadScore"],"fullName":"Lead Scoring & Duplicate Check (L5) calculateLeadScore 线索不存在时应返回错误","status":"passed","title":"线索不存在时应返回错误","duration":3.0102999999999156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Scoring & Duplicate Check (L5)","checkLeadDuplicate"],"fullName":"Lead Scoring & Duplicate Check (L5) checkLeadDuplicate 手机号匹配时应返回 isDuplicate: true","status":"passed","title":"手机号匹配时应返回 isDuplicate: true","duration":5.36699999999837,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Scoring & Duplicate Check (L5)","checkLeadDuplicate"],"fullName":"Lead Scoring & Duplicate Check (L5) checkLeadDuplicate 无手机号和地址时应返回 isDuplicate: false","status":"passed","title":"无手机号和地址时应返回 isDuplicate: false","duration":1.8791000000001077,"failureMessages":[],"meta":{}},{"ancestorTitles":["Lead Scoring & Duplicate Check (L5)","batchCheckLeadDuplicates"],"fullName":"Lead Scoring & Duplicate Check (L5) batchCheckLeadDuplicates 应当批量检查并返回统计结果","status":"passed","title":"应当批量检查并返回统计结果","duration":5.4561999999987165,"failureMessages":[],"meta":{}}],"startTime":1771819289346,"endTime":1771819292916.4563,"status":"passed","message":"","name":"C:/Users/bigey/Documents/Antigravity/L2C/src/features/leads/actions/__tests__/scoring.test.ts"}]}