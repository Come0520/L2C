# å°ç¨‹åºé¡µé¢è·¯ç”±åœ°å›¾ (Route Map)

> æœ€åæ›´æ–°ï¼š2026-02-23
> åŸºäº `app.json` ä¸­å…¨éƒ¨ 34 ä¸ªæ³¨å†Œé¡µé¢

---

## åº”ç”¨å¯¼èˆªæ¶æ„

```mermaid
graph TD
    Landing[è½åœ°é¡µ] --> Login[ç™»å½•]
    Landing --> Invite[é‚€è¯·æ³¨å†Œ]
    Login --> Index[é¦–é¡µ TabBar]
    Login --> Register[æ³¨å†Œ]
    Register --> Status[å®¡æ ¸çŠ¶æ€]

    subgraph TabBar[åº•éƒ¨å¯¼èˆªæ  - 5å¤§å…¥å£]
        Index[ğŸ  é¦–é¡µ]
        Workbench[ğŸ”§ å·¥ä½œå°]
        CRM[ğŸ‘¥ å®¢æˆ·]
        QuotesList[ğŸ“‹ æŠ¥ä»·]
        Profile[ğŸ‘¤ æˆ‘çš„]
    end

    Workbench --> Leads[çº¿ç´¢ç®¡ç†]
    Workbench --> Tasks[ä»»åŠ¡ç®¡ç†]
    Workbench --> Reports[æŠ¥è¡¨]
    Workbench --> EngineerWB[å·¥ç¨‹å¸ˆå·¥ä½œå°]

    CRM --> CRMDetail[å®¢æˆ·è¯¦æƒ…]
    CRM --> CRMCreate[åˆ›å»ºå®¢æˆ·]
    CRMDetail --> Followup[è·Ÿè¿›è®°å½•]

    Leads --> LeadsDetail[çº¿ç´¢è¯¦æƒ…]
    Leads --> LeadsCreate[åˆ›å»ºçº¿ç´¢]

    QuotesList --> QuoteDetail[æŠ¥ä»·è¯¦æƒ…]
    QuotesList --> QuoteCreate[åˆ›å»ºæŠ¥ä»·]
    QuoteCreate --> ProductSelector[äº§å“é€‰æ‹©å™¨]

    Tasks --> TaskDetail[ä»»åŠ¡è¯¦æƒ…]
    Tasks --> Measure[é‡å°ºè®°å½•]

    Index --> Showroom[çº¿ä¸Šå±•å…]
    Showroom --> ShowroomDetail[å±•å“è¯¦æƒ…]
    Showroom --> ShowroomCapsule[èƒ¶å›Šå±•ç¤º]

    Index --> ManagerTargets[é”€å”®ç›®æ ‡]
    Index --> ProjectDetail[é¡¹ç›®è¯¦æƒ…]

    Profile --> UserEdit[ç¼–è¾‘èµ„æ–™]
    Profile --> TenantPayment[æ”¯ä»˜è®¾ç½®]
    Profile --> ServiceApply[ç”³è¯·å”®å]
    Profile --> ServiceList[å”®ååˆ—è¡¨]
```

---

## é¡µé¢æ¸…å•ä¸åŠŸèƒ½å®šä¹‰

### ğŸ” å…¬å¼€é¡µé¢ (æ— éœ€ç™»å½•)

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/landing/landing` | è½åœ°é¡µ | å“ç‰Œå±•ç¤ºã€å¼•å¯¼ç™»å½•/æ³¨å†Œ | å…¬å¼€ |
| `pages/login/login` | ç™»å½•é¡µ | æ‰‹æœºå· + å¯†ç ç™»å½• | å…¬å¼€ |
| `pages/register/register` | æ³¨å†Œé¡µ | æ–°ç”¨æˆ·é‚€è¯·æ³¨å†Œæµç¨‹ | å…¬å¼€ |
| `pages/status/status` | å®¡æ ¸çŠ¶æ€ | æ³¨å†Œåç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸ | å…¬å¼€ |
| `pages/invite/invite` | é‚€è¯·é¡µ | æ¥å—é‚€è¯·é“¾æ¥åŠ å…¥ç§Ÿæˆ· | å…¬å¼€ |

### ğŸ  TabBar ä¸»é¡µé¢ (éœ€ç™»å½•)

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/index/index` | é¦–é¡µ | æ¦‚è§ˆä»ªè¡¨ç›˜ã€å¸¸ç”¨åŠŸèƒ½å…¥å£ | å…¨è§’è‰² |
| `pages/workbench/index` | å·¥ä½œå° | è§’è‰²åŒ–ä»»åŠ¡é¢æ¿ï¼ˆé”€å”®/å·¥ç¨‹å¸ˆï¼‰ | å…¨è§’è‰² |
| `pages/crm/index` | å®¢æˆ·åˆ—è¡¨ | å®¢æˆ·æ¡£æ¡ˆç®¡ç†ã€æœç´¢ä¸ç­›é€‰ | é”€å”®/ç®¡ç† |
| `pages/quotes/index` | æŠ¥ä»·åˆ—è¡¨ | æŠ¥ä»·å•ç®¡ç†ä¸çŠ¶æ€è·Ÿè¸ª | é”€å”®/ç®¡ç† |
| `pages/users/profile` | ä¸ªäººä¸­å¿ƒ | è´¦å·è®¾ç½®ã€é€€å‡ºç™»å½• | å…¨è§’è‰² |

### ğŸ‘¥ CRM å®¢æˆ·ç®¡ç†

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/crm/create/create` | åˆ›å»ºå®¢æˆ· | æ–°å¢å®¢æˆ·æ¡£æ¡ˆ | é”€å”® |
| `pages/crm/detail/index` | å®¢æˆ·è¯¦æƒ… | æŸ¥çœ‹å®¢æˆ·å…¨è²Œï¼ˆä¿¡æ¯/è®¢å•/è·Ÿè¿›ï¼‰ | é”€å”®/ç®¡ç† |
| `pages/crm/followup/create` | åˆ›å»ºè·Ÿè¿› | æ–°å¢å®¢æˆ·è·Ÿè¿›è®°å½• | é”€å”® |

### ğŸ¯ çº¿ç´¢ç®¡ç†

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/leads/index/index` | çº¿ç´¢åˆ—è¡¨ | æ½œåœ¨å®¢æˆ·çº¿ç´¢ç®¡ç† | é”€å”®/ç®¡ç† |
| `pages/leads/create/index` | åˆ›å»ºçº¿ç´¢ | æ–°å¢å•†æœºçº¿ç´¢ | é”€å”® |
| `pages/leads/detail/index` | çº¿ç´¢è¯¦æƒ… | æŸ¥çœ‹çº¿ç´¢ä¿¡æ¯ä¸è½¬åŒ–çŠ¶æ€ | é”€å”®/ç®¡ç† |

### ğŸ“‹ æŠ¥ä»·ç®¡ç†

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/quotes/create/index` | åˆ›å»ºæŠ¥ä»· | æ–°å»ºæŠ¥ä»·å•ï¼ˆæŒ‰æˆ¿é—´+äº§å“ï¼‰ | é”€å”® |
| `pages/quotes/detail` | æŠ¥ä»·è¯¦æƒ… | æŸ¥çœ‹/ç¼–è¾‘æŠ¥ä»·æ˜ç»† | é”€å”®/ç®¡ç† |
| `pages/quotes/product-selector/index` | äº§å“é€‰æ‹©å™¨ | æŠ¥ä»·è¿‡ç¨‹ä¸­é€‰æ‹©äº§å“ SKU | é”€å”® |

### ğŸ”§ ä»»åŠ¡ä¸å·¥ç¨‹ç®¡ç†

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/tasks/index` | ä»»åŠ¡åˆ—è¡¨ | æµ‹é‡/å®‰è£…ä»»åŠ¡ç»Ÿä¸€è§†å›¾ | å·¥ç¨‹å¸ˆ/é”€å”® |
| `pages/tasks/detail/detail` | ä»»åŠ¡è¯¦æƒ… | ä»»åŠ¡ä¿¡æ¯ã€æ‰“å¡ã€ä¸ŠæŠ¥ | å·¥ç¨‹å¸ˆ |
| `pages/tasks/measure/index` | é‡å°ºè®°å½• | æµ‹é‡ä»»åŠ¡æ•°æ®å½•å…¥ | å·¥ç¨‹å¸ˆ |
| `pages/workbench/engineer/index` | å·¥ç¨‹å¸ˆå·¥ä½œå° | å·¥ç¨‹å¸ˆä¸“å±ä»»åŠ¡é¢æ¿ | å·¥ç¨‹å¸ˆ |
| `pages/projects/task-detail/index` | é¡¹ç›®ä»»åŠ¡è¯¦æƒ… | é¡¹ç›®ç»´åº¦çš„ä»»åŠ¡æŸ¥çœ‹ | å…¨è§’è‰² |

### ğŸª å±•å… (Showroom)

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/showroom/index` | çº¿ä¸Šå±•å… | äº§å“å±•ç¤ºä¸æµè§ˆ | å…¨è§’è‰² |
| `pages/showroom/detail/index` | å±•å“è¯¦æƒ… | å•å“è¯¦ç»†ä¿¡æ¯ | å…¨è§’è‰² |
| `pages/showroom/capsule/index` | èƒ¶å›Šå±•ç¤º | ç²¾é€‰äº§å“æ¨èå¡ç‰‡ | å…¨è§’è‰² |

### ğŸ“Š æ•°æ®ä¸ç®¡ç†

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/reports/index` | æŠ¥è¡¨ä¸­å¿ƒ | é”€å”®æ•°æ®åˆ†æ | ç®¡ç† |
| `pages/manager/targets/index` | é”€å”®ç›®æ ‡ | ç›®æ ‡è®¾å®šä¸è¾¾æˆè·Ÿè¸ª | ç®¡ç† |

### âš™ï¸ è®¾ç½®ä¸å”®å

| è·¯å¾„ | åç§° | åŠŸèƒ½æè¿° | æƒé™ |
|:---|:---|:---|:---|
| `pages/users/edit/edit` | ç¼–è¾‘èµ„æ–™ | ä¸ªäººä¿¡æ¯ä¿®æ”¹ | å…¨è§’è‰² |
| `pages/tenant/payment-settings/index` | æ”¯ä»˜è®¾ç½® | ç§Ÿæˆ·æ”¯ä»˜æ–¹å¼é…ç½® | ç®¡ç† |
| `pages/service/apply/index` | ç”³è¯·å”®å | æäº¤å”®åæœåŠ¡å·¥å• | å…¨è§’è‰² |
| `pages/service/list/index` | å”®ååˆ—è¡¨ | æŸ¥çœ‹å”®åå·¥å•è¿›åº¦ | å…¨è§’è‰² |

---

## è·¯ç”±è§„èŒƒ

### å‚æ•°ä¼ é€’
- ç»Ÿä¸€ä½¿ç”¨ `id` ä½œä¸ºä¸»é”®å‚æ•°ï¼š`/pages/crm/detail/index?id=xxx`
- å¤æ‚ç­›é€‰ç”¨ `type`/`status` ç­‰æŸ¥è¯¢å‚æ•°

### è·³è½¬æ–¹å¼
| åœºæ™¯ | API | è¯´æ˜ |
|:---|:---|:---|
| åˆ‡æ¢ TabBar | `wx.switchTab` | ä»…é™ 5 ä¸ªä¸»é¡µé¢ |
| æ‰“å¼€æ–°é¡µé¢ | `wx.navigateTo` | å¸¸è§„å­é¡µé¢è·³è½¬ |
| å…³é—­å½“å‰è·³è½¬ | `wx.redirectTo` | ç™»å½•åè·³é¦–é¡µç­‰ |
| æ¸…æ ˆé‡å¯ | `wx.reLaunch` | é€€å‡ºç™»å½•åè¿”å›è½åœ°é¡µ |

### æƒé™å®ˆå«
- æ‰€æœ‰é `landing` / `login` / `register` / `invite` / `status` é¡µé¢éœ€æ£€æŸ¥ `authStore.isLoggedIn`
- é€šè¿‡ `utils/navigation-guard.ts` ç»Ÿä¸€æ‹¦æˆª

### è‡ªå®šä¹‰ TabBar
- ä½¿ç”¨ `custom-tab-bar` ç»„ä»¶ï¼Œæ”¯æŒè§’è‰²åŠ¨æ€æ˜¾ç¤º/éšè—çš„ Tab é¡¹
- æœªç™»å½•çŠ¶æ€ä¸‹ TabBar ä¸å¯è§
