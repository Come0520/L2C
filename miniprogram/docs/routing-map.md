# L2C å°ç¨‹åºç«¯ (Miniprogram) è·¯ç”±å…¨æ™¯åœ°å›¾

æœ¬æ–‡æ¡£åŸºäº `app.json` è‡ªåŠ¨ç”Ÿæˆï¼Œæ—¨åœ¨ä¸ºå°ç¨‹åºå‰ç«¯æä¾›æ¸…æ™°çš„é¡µé¢å±‚çº§ä¸å¯¼èˆªè§„èŒƒå‚è€ƒï¼Œè§£å†³å¯»å€ç›²åŒºã€‚

## å¯¼èˆªæ ç»“æ„ (Custom TabBar)

å°ç¨‹åºçš„åº•éƒ¨å¯¼èˆªé‡‡ç”¨çº¯è‡ªå®šä¹‰é…ç½® (`custom: true`)ï¼ŒåŒ…å« 5 ä¸ªæ ¸å¿ƒå…¥å£é¡µé¢ï¼š

| Tab åç§° | è·¯ç”±è·¯å¾„ | è¯´æ˜ |
| :--- | :--- | :--- |
| **é¦–é¡µ** | `/pages/index/index` | ä¸šåŠ¡æ¦‚è§ˆã€å¿«æ·å…¥å£ |
| **å·¥ä½œå°** | `/pages/workbench/index` | å‘˜å·¥æ—¥å¸¸æ“ä½œé¢æ¿ï¼ˆåŒ…å«ä¸åŒè§’è‰²çš„å·¥ä½œæµï¼‰ |
| **å®¢æˆ·** | `/pages/crm/index` | å®¢æˆ·æ¡£æ¡ˆç®¡ç†ä¸­æ¢ |
| **æŠ¥ä»·** | `/pages/quotes/index` | åœ¨çº¿æŠ¥ä»·ã€é€‰å“æ¸…å•ç”Ÿæˆ |
| **æˆ‘çš„** | `/pages/users/profile` | è´¦å·è®¾ç½®ã€ç§Ÿæˆ·ä¿¡æ¯åŠæƒé™ |

---

## å®Œæ•´é¡µé¢åˆ†å¸ƒ (å…± 33 é¡µ)

æŒ‰ç…§ä¸šåŠ¡æ¨¡å—å¯¹æ‰€æœ‰ç°å­˜é¡µé¢è¿›è¡Œåˆ†ç±»ï¼š

### ğŸ” è®¤è¯ä¸åŸºç¡€æ¶æ„ (Auth & Base)
*   **è½åœ°å¼•å¯¼é¡µ**: `/pages/landing/landing` (æœªç™»å½•/æ¸¸å®¢è·³è½¬çš„é»˜è®¤å…¥å£)
*   **ç™»å½•é¡µ**: `/pages/login/login` (æ‰‹æœºå·/å¾®ä¿¡ä¸€é”®ç™»å½•)
*   **æ³¨å†Œé¡µ**: `/pages/register/register` (æ–°ç”¨æˆ·/æ–°ç§Ÿæˆ·æ³¨å†Œç”³è¯·)
*   **é‚€è¯·ç åŠ å…¥**: `/pages/invite/invite` (æ‰«æå›¢é˜Ÿé‚€è¯·ç ç»‘å®š)
*   **ç³»ç»Ÿé€šå‘Š/çŠ¶æ€**: `/pages/status/status` (å¦‚ç³»ç»Ÿç»´æŠ¤ã€æƒé™æ‹¦æˆªæ—¶çš„é€šç”¨çš„çŠ¶æ€å±•ç¤ºæ¿)

### ğŸ‘¥ å®¢æˆ·ä¸çº¿ç´¢ (CRM & Leads)
*   **å…¬å…±çº¿ç´¢æ± **: `/pages/leads/index/index`
*   **æ‰‹å·¥å½•å…¥çº¿ç´¢**: `/pages/leads/create/index` 
*   **çº¿ç´¢å…¨æ™¯è¯¦æƒ…**: `/pages/leads/detail/index` (å«çº¿ç´¢è‡³å®¢æˆ·çš„æµè½¬é—­ç¯)
*   **å®¢æˆ·ç®¡ç†å¤§å…**: `/pages/crm/index` **(TabBar)**
*   **å»ºæ¡£å½•å…¥**: `/pages/crm/create/create`
*   **å®¢æˆ· 360 è§†å›¾**: `/pages/crm/detail/index`
*   **æ–°å»ºè·Ÿè¿›è®°å½•**: `/pages/crm/followup/create`

### ğŸ’° æŠ¥ä»·ä¸å•†å“åº“ (Quotes & Items)
*   **æŠ¥ä»·ç®¡ç†ä¸­å¿ƒ**: `/pages/quotes/index` **(TabBar)**
*   **èµ·è‰æ–°æŠ¥ä»·å•**: `/pages/quotes/create/index`
*   **æŠ¥ä»·å›¾çº¸/è¯¦æƒ…**: `/pages/quotes/detail`
*   **ç§»åŠ¨ç«¯é€‰å“å™¨**: `/pages/quotes/product-selector/index` (æ”¯æŒçª—å¸˜å¸ƒæ–™ã€é…ä»¶çš„çŸ©é˜µé€‰æ‹©)

### ğŸ“‹ ä»»åŠ¡ä¸äº¤ä»˜ (Tasks & Dispatch)
*   **è°ƒåº¦ç®¡ç†ä»»åŠ¡æ¿**: `/pages/tasks/index`
*   **ä»»åŠ¡å·¥å•è¯¦æƒ…**: `/pages/tasks/detail/detail`
*   **æµ‹é‡å¸ˆ - ä¸Šé—¨æ´¾å•**: `/pages/tasks/measure/index`
*   **å®‰è£…å¸ˆ - ä¸“å±æ¦‚è§ˆ**: `/pages/workbench/engineer/index` (å®‰è£…å¸ˆå‚…è§†è§’çš„ç®€åŒ–ç‰ˆå·¥ä½œå°)
*   **é¡¹ç›®å·¥åºè¿½è¸ª**: `/pages/projects/task-detail/index` (æ”¯æŒä¸Šä¼ å®Œå·¥å›¾/ç­¾å­—å•)

### ğŸ›  å”®åä¸æœåŠ¡ (After-Sales Service)
*   **å‘èµ·å”®åç”³è¯·**: `/pages/service/apply/index` (å«å›¾æ–‡ã€è§†é¢‘å‡­è¯æäº¤)
*   **å·¥å•è¿›åº¦åˆ—è¡¨**: `/pages/service/list/index`

### ğŸ¬ äº‘å±•å… (Showroom)
*   **äº‘å±•å…å¤§å…**: `/pages/showroom/index` (ä¼ä¸šæ–‡åŒ–ã€å®£å‘ç‰©æ–™åº“)
*   **å±•å…å¯Œæ–‡æœ¬è¯¦æƒ…**: `/pages/showroom/detail/index`
*   **ç²¾é€‰æ¡ˆä¾‹èƒ¶å›Š**: `/pages/showroom/capsule/index` 

### ğŸ“Š ç®¡ç†ä¸åˆ†æ (Manager & Analytics)
*   **ç»©æ•ˆä¸æŒ‡æ ‡æ¦‚è§ˆ**: `/pages/manager/targets/index` (åº—é•¿è§†è§’)
*   **å¤šç»´æŠ¥è¡¨åˆ†æ**: `/pages/reports/index` (é—¨åº—è¥æ”¶ã€è½¬åŒ–ç‡æ¼æ–—ç­‰)

### âš™ï¸ ä¸ªäººä¸è®¾ç½® (Settings)
*   **ä¸ªäººä¸­å¿ƒ**: `/pages/users/profile` **(TabBar)**
*   **ä¸ªäººèµ„æ–™ç¼–è¾‘**: `/pages/users/edit/edit`
*   **ç§Ÿæˆ·æ”¯ä»˜é…ç½®**: `/pages/tenant/payment-settings/index` (å¯¹å…¬è½¬è´¦ã€å¾®ä¿¡æ”¯ä»˜å•†æˆ·å·é…ç½®)

---

## è·¯ç”±è·³è½¬è§„èŒƒæç¤º

1. **è·³è½¬åˆ° TabBar é¡µé¢**ï¼Œå‰ç«¯å¿…é¡»ä½¿ç”¨ `wx.switchTab({ url: '...' })`ã€‚ä½¿ç”¨ `wx.navigateTo` æˆ– `wx.redirectTo` ä¼šæŠ›å‡ºè·¯ç”±æŠ¥é”™ã€‚
2. **è¿”å›ä¸Šä¸€é¡µåŠé€šä¿¡**ï¼Œä½¿ç”¨ `wx.navigateBack({ delta: 1 })`ã€‚å¦‚éœ€è·¨é¡µé¢ä¼ é€’åˆ·æ–°ä¿¡å·ï¼Œæ¨èä½¿ç”¨ EventChannel æˆ–å…¨å±€ Storeã€‚
3. **å®‰å…¨æ‹¦æˆªæ‹¦æˆªå™¨**ï¼Œè¯·å‹¿åœ¨å®¢æˆ·ç«¯ç¡¬è·¯ç”±é€»è¾‘ä¸­ä¿¡ä»»æƒé™ã€‚æ‰€æœ‰å…·æœ‰ç ´åæ€§çš„æŸ¥è¯¢å’Œå†™å…¥å¿…é¡»ç”±æœåŠ¡ç«¯è¿”å› `401`/`403` è¿›è¡Œæ‹¦æˆªï¼Œå¹¶ç”±ç»Ÿä¸€çš„ Request æ‹¦æˆªå™¨ (`app.ts`) å…œåº•è·³è½¬è‡³ Landing æˆ– Login é¡µé¢ã€‚
