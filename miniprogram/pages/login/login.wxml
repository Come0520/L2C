<!--
  登录页
  pages/login/login.wxml
  重构：使用全局白/蓝亮色系规范
-->
<view class="container">
  <view class="header animate-slide-up">
    <view class="title">欢迎回来</view>
    <view class="subtitle">登录 L2C 窗帘全流程管理大师</view>
  </view>

  <view class="form-card animate-slide-up" style="animation-delay: 0.1s;">
    <!-- 错误提示区域 -->
    <view class="error-banner" wx:if="{{errorMsg}}">
      <icon type="warn" size="14" color="var(--color-error)"></icon>
      <text class="error-text">{{errorMsg}}</text>
    </view>

    <view class="form-item">
      <view class="label">账号</view>
      <input 
        class="input" 
        placeholder="请输入手机号或邮箱" 
        placeholder-class="placeholder" 
        model:value="{{account}}"
      />
    </view>

    <view class="form-item">
      <view class="label">密码</view>
      <view class="password-wrap">
        <input 
          class="input password-input" 
          type="{{showPassword ? 'text' : 'password'}}" 
          placeholder="请输入密码" 
          placeholder-class="placeholder" 
          model:value="{{password}}"
        />
        <view class="eye-toggle" bindtap="togglePassword">
          <text>{{showPassword ? '🙈' : '👁'}}</text>
        </view>
      </view>
    </view>

    <button 
      class="btn-primary" 
      loading="{{loggingIn}}" 
      bindtap="onLogin"
    >
      立即登录
    </button>

    <view class="link-area">
      <text class="tips">还没有账号？</text>
      <text class="link" bindtap="goRegister">立即入驻/加入团队</text>
    </view>
  </view>
</view>
