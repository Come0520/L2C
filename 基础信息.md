# L2C 生产环境基础信息收集表

> **说明**：请填写以下信息，填写后我可以帮您生成配置脚本。  
> **标记**：🔴 必填 | 🟡 推荐 |⚪ 可选

---

## ⚠️ 待填写项汇总

> **📌 部署方案**：直接在 ECS 上构建镜像（无需 ACR）

### 🔴必填项（还需填写）：
1. **GITHUB_REPO** - GitHub 仓库地址（格式：用户名/仓库名）

### ✅已填写项：
- ECS_IP: 101.132.152.132
- SSH_KEY_PATH: /Users/laichangcheng/Downloads/罗莱-圣都.pem
- DNS_PROVIDER: 阿里云

### 🟡推荐项（可选填写）：
- SMTP 邮件配置（3项）- 用于发送注册邮件
- OSS 备份配置（3项）- 用于异地备份

### ⚪ 已移除项：
- ~~ACR_USERNAME~~（不需要，改用本地构建）
- ~~ACR_PASSWORD~~（不需要，改用本地构建）




---

## 1️⃣ 阿里云 ECS 信息（🔴 必填）

```yaml
# ECS 基本信息
ECS_IP:101.132.152.132
实例： i-uf6d5c3hub92tu110ub5
SSH_PORT: 22                  # 默认22
SSH_USER: root                # 默认root
SSH_KEY_PATH: /Users/laichangcheng/Downloads/罗莱-圣都.pem

# 系统信息
OS_TYPE: Ubuntu               # Ubuntu / CentOS / 其他
OS_VERSION: 22.04             # 系统版本号
```

---

## 2️⃣ 域名信息（🔴 必填）

```yaml
DOMAIN: www.luolai-sd.xin     # 已确认
DNS_PROVIDER: 阿里云    # 阿里云 / 腾讯云 / Cloudflare / 其他

# 请确认：
# [ ] 已将域名 A 记录指向 ECS IP
# [ ] DNS 已生效（可通过 ping www.luolai-sd.xin 验证）
```

---

## 3️⃣ 阿里云容器镜像服务（⚪ 不需要）

> [!NOTE]
> **已选择直接在 ECS 上构建镜像，无需配置 ACR。**

```yaml
# ACR 配置（已跳过）
ACR_NAMESPACE: 不需要                        # 使用本地构建
ACR_USERNAME: 不需要                         # 使用本地构建
ACR_PASSWORD: 不需要                         # 使用本地构建
```

---

## 4️⃣ SMTP 邮件配置（🟡 推荐）

```yaml
# 如果需要发送系统邮件（注册验证、密码重置）
SMTP_HOST: smtp.exmail.qq.com        # 腾讯企业邮箱（推荐）
SMTP_PORT: 465                       # SSL 端口
SMTP_USER: ____________              # 如: noreply@luolai-sd.xin
SMTP_PASS: ____________              # SMTP 授权码
SMTP_ADMIN: ____________             # 如: admin@luolai-sd.xin
```

**如果暂不配置 SMTP**：
- 跳过此部分
- 用户注册需手动激活
- 密码重置功能暂时不可用

---

## 5️⃣ 阿里云 OSS 备份（⚪ 可选）

```yaml
# 用于异地备份（强烈推荐，但可后续添加）
OSS_ENDPOINT: oss-cn-shanghai.aliyuncs.com
OSS_BUCKET: ____________             # 如: l2c-backups
OSS_ACCESS_KEY: ____________         # 阿里云 Access Key ID
OSS_ACCESS_SECRET: ____________      # 阿里云 Access Key Secret
```

**如果暂不配置 OSS**：
- 跳过此部分
- 仅使用本地备份
- 建议后续补充

---

## 6️⃣ GitHub Actions 配置（🔴 必填，用于 CI/CD）

> [!WARNING]
> **🔴 GITHUB_REPO 必须填写！**

```yaml
# GitHub 仓库信息
GITHUB_REPO: 🔴未填写🔴                      # 如: your-org/L2C
GITHUB_BRANCH: main                          # 主分支名称

# 以下信息将配置为 GitHub Secrets：
# - ECS_HOST: {ECS_IP}
# - ECS_USER: {SSH_USER}
# - ECS_SSH_KEY: {SSH 私钥内容}
# - DOCKER_USERNAME: {ACR_USERNAME} 
# - DOCKER_PASSWORD: {ACR_PASSWORD}

# 请确认：
# [ ] 有 GitHub 仓库管理权限
# [ ] 可以添加 GitHub Secrets
```

---

## ✅ 快速检查清单

填写前请确认：

**阿里云 ECS**：
- [ ] 已购买/申请 ECS 实例（4核8GB，上海）
- [ ] 已获得公网 IP
- [ ] 已下载 SSH 私钥文件
- [ ] 可以 SSH 登录服务器

**域名**：
- [ ] 域名 DNS 管理权限
- [ ] 已配置 A 记录指向 ECS IP
- [ ] DNS 已生效（通过 `ping` 验证）

**阿里云 ACR**：
- [ ] 已开通容器镜像服务
- [ ] 已创建命名空间
- [ ] 已设置 ACR 独立密码

---

## 📝 填写完成后

将以上信息填写完整后，我可以为您：

1. **自动生成环境变量文件**
2. **生成密钥和 JWT tokens**
3. **创建部署脚本**
4. **准备 GitHub Actions Secrets**

---

**如何提供信息**：

您可以：
1. 直接在此文件中填写（替换 `____________` ）
2. 或在聊天中告诉我这些信息

**安全提示**：
- SSH 私钥内容、密码等敏感信息请谨慎处理
- 不要将包含真实密码的文件提交到 Git
- 建议使用密码管理器保存这些信息
